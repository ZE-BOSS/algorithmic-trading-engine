2025-10-28 12:48:22,764 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 12:48:22,846 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 12:48:22,846 - __main__ - INFO - Starting backtest...
2025-10-28 12:48:22,848 - __main__ - ERROR - Error executing backtest: Orchestrator.run_backtest() got an unexpected keyword argument 'start_date'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 217, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
TypeError: Orchestrator.run_backtest() got an unexpected keyword argument 'start_date'
2025-10-28 12:54:35,369 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 12:54:35,383 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 12:54:35,383 - __main__ - INFO - Starting backtest...
2025-10-28 12:54:35,384 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD H1
2025-10-28 12:54:35,419 - __main__ - ERROR - Error executing backtest: Missing required columns: ['time']
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 217, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 70, in run_backtest
    ohlc = self.market_data.get_data(
        symbol=symbol,
    ...<3 lines>...
        csv_path=csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 61, in get_data
    return self._load_from_csv(csv_path)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 106, in _load_from_csv
    raise ValueError(f"Missing required columns: {missing}")
ValueError: Missing required columns: ['time']
2025-10-28 13:04:11,238 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 13:04:11,244 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 13:04:11,244 - __main__ - INFO - Starting backtest...
2025-10-28 13:04:11,245 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD H1
2025-10-28 13:04:11,246 - __main__ - ERROR - Error executing backtest: csv_path required for CSV source
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 217, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 70, in run_backtest
    ohlc = self.market_data.get_data(
        symbol=symbol,
    ...<3 lines>...
        csv_path=csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 61, in get_data
    return self._load_from_csv(csv_path)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 94, in _load_from_csv
    raise ValueError("csv_path required for CSV source")
ValueError: csv_path required for CSV source
2025-10-28 13:05:04,711 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 13:05:04,716 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 13:05:04,717 - __main__ - INFO - Starting backtest...
2025-10-28 13:05:04,718 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD H1
2025-10-28 13:05:04,756 - smc_engine.data.marketdata - INFO - Loaded 25 bars from sample_data/EURUSD_H1_sample.csv
2025-10-28 13:05:04,756 - smc_engine.orchestrator - INFO - Loaded 25 bars
2025-10-28 13:05:04,757 - __main__ - ERROR - Error executing backtest: Missing required parameter: lookback
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 217, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 82, in run_backtest
    strategy = SMCStrategy(params)
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\core\strategy.py", line 104, in __init__
    super().__init__(params)
    ~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\core\strategy.py", line 32, in __init__
    self.validate_params()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\core\strategy.py", line 111, in validate_params
    raise ValueError(f"Missing required parameter: {param}")
ValueError: Missing required parameter: lookback
2025-10-28 13:07:14,792 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 13:07:14,800 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 13:07:14,800 - __main__ - INFO - Starting backtest...
2025-10-28 13:07:14,801 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD H1
2025-10-28 13:07:14,801 - __main__ - ERROR - Error executing backtest: csv_path required for CSV source
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 216, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<6 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 70, in run_backtest
    ohlc = self.market_data.get_data(
        symbol=symbol,
    ...<3 lines>...
        csv_path=csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 61, in get_data
    return self._load_from_csv(csv_path)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 94, in _load_from_csv
    raise ValueError("csv_path required for CSV source")
ValueError: csv_path required for CSV source
2025-10-28 13:11:49,690 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 13:11:49,695 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 13:11:49,695 - __main__ - INFO - Starting backtest...
2025-10-28 13:11:49,696 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD H1
2025-10-28 13:11:49,696 - smc_engine.data.mt5_manager - WARNING - MT5 configuration incomplete. Running in dry-run mode.
2025-10-28 13:11:49,697 - smc_engine.data.mt5_manager - INFO - MT5Manager in dry-run mode - no actual connection
2025-10-28 13:11:49,697 - smc_engine.data.mt5_manager - WARNING - Dry-run mode: returning empty DataFrame
2025-10-28 13:11:49,701 - smc_engine.orchestrator - INFO - Loaded 0 bars
2025-10-28 13:11:49,702 - __main__ - ERROR - Error executing backtest: Missing required parameter: lookback
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 217, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 86, in run_backtest
    strategy = SMCStrategy(params)
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\core\strategy.py", line 104, in __init__
    super().__init__(params)
    ~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\core\strategy.py", line 32, in __init__
    self.validate_params()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\core\strategy.py", line 111, in validate_params
    raise ValueError(f"Missing required parameter: {param}")
ValueError: Missing required parameter: lookback
2025-10-28 13:25:29,421 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 13:38:58,624 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 13:38:58,630 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 13:38:58,631 - __main__ - INFO - Starting backtest...
2025-10-28 13:38:58,632 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD H1
2025-10-28 13:38:58,637 - smc_engine.data.mt5_manager - ERROR - MT5 connection error: MT5 initialization failed: (-10003, "IPC initialize failed, Process create failed '/path/to/terminal64.exe'")
2025-10-28 13:38:58,637 - __main__ - ERROR - Error executing backtest: Not connected to MT5
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 217, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 74, in run_backtest
    ohlc = self.market_data.get_data(
        symbol=symbol,
    ...<3 lines>...
        csv_path=csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 70, in get_data
    return self.mt5_manager.get_historical(symbol, timeframe, start, end)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 143, in get_historical
    raise RuntimeError("Not connected to MT5")
RuntimeError: Not connected to MT5
2025-10-28 13:40:45,672 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 13:40:45,676 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 13:40:45,677 - __main__ - INFO - Starting backtest...
2025-10-28 13:40:45,677 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD H1
2025-10-28 13:40:45,694 - smc_engine.data.mt5_manager - ERROR - MT5 connection error: MT5 initialization failed: (-6, 'Terminal: Authorization failed')
2025-10-28 13:40:45,694 - __main__ - ERROR - Error executing backtest: Not connected to MT5
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 217, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 74, in run_backtest
    ohlc = self.market_data.get_data(
        symbol=symbol,
    ...<3 lines>...
        csv_path=csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 70, in get_data
    return self.mt5_manager.get_historical(symbol, timeframe, start, end)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 141, in get_historical
    raise RuntimeError("Not connected to MT5")
RuntimeError: Not connected to MT5
2025-10-28 13:47:07,246 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 13:47:07,251 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 13:47:07,252 - __main__ - INFO - Starting backtest...
2025-10-28 13:47:07,253 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD H1
2025-10-28 13:47:10,268 - smc_engine.data.mt5_manager - ERROR - MT5 connection error: MT5 initialization failed: (-6, 'Terminal: Authorization failed')
2025-10-28 13:47:10,269 - __main__ - ERROR - Error executing backtest: Not connected to MT5
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 217, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 74, in run_backtest
    ohlc = self.market_data.get_data(
        symbol=symbol,
    ...<3 lines>...
        csv_path=csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 70, in get_data
    return self.mt5_manager.get_historical(symbol, timeframe, start, end)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 141, in get_historical
    raise RuntimeError("Not connected to MT5")
RuntimeError: Not connected to MT5
2025-10-28 13:51:18,541 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 13:51:18,548 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 13:51:18,549 - __main__ - INFO - Starting backtest...
2025-10-28 13:51:18,550 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD H1
2025-10-28 13:51:18,576 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 13:51:18,577 - smc_engine.data.mt5_manager - INFO - Balance: 0.0, Equity: 0.0
2025-10-28 13:51:18,577 - __main__ - ERROR - Error executing backtest: Failed to get historical data: (-2, 'Invalid arguments')
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 217, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 74, in run_backtest
    ohlc = self.market_data.get_data(
        symbol=symbol,
    ...<3 lines>...
        csv_path=csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 70, in get_data
    return self.mt5_manager.get_historical(symbol, timeframe, start, end)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 164, in get_historical
    raise RuntimeError(f"Failed to get historical data: {error}")
RuntimeError: Failed to get historical data: (-2, 'Invalid arguments')
2025-10-28 19:32:25,002 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 19:32:25,019 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 19:32:25,020 - __main__ - INFO - Starting backtest...
2025-10-28 19:32:25,022 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSDm H1
2025-10-28 19:32:25,040 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 19:32:25,041 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 19:32:25,041 - __main__ - ERROR - Error executing backtest: Failed to get historical data: (-2, 'Invalid arguments')
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 217, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 74, in run_backtest
    ohlc = self.market_data.get_data(
        symbol=symbol,
    ...<3 lines>...
        csv_path=csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 70, in get_data
    return self.mt5_manager.get_historical(symbol, timeframe, start, end)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 164, in get_historical
    raise RuntimeError(f"Failed to get historical data: {error}")
RuntimeError: Failed to get historical data: (-2, 'Invalid arguments')
2025-10-28 19:35:42,600 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 19:35:42,611 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 19:35:42,611 - __main__ - INFO - Starting backtest...
2025-10-28 19:35:42,612 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSDm H1
2025-10-28 19:35:42,634 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 19:35:42,635 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 19:35:42,635 - __main__ - ERROR - Error executing backtest: Failed to get historical data: (-2, 'Invalid arguments')
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 217, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 74, in run_backtest
    ohlc = self.market_data.get_data(
        symbol=symbol,
    ...<3 lines>...
        csv_path=csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 70, in get_data
    return self.mt5_manager.get_historical(symbol, timeframe, start, end)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 166, in get_historical
    raise RuntimeError(f"Failed to get historical data: {error}")
RuntimeError: Failed to get historical data: (-2, 'Invalid arguments')
2025-10-28 19:36:35,505 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 19:36:35,510 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 19:36:35,511 - __main__ - INFO - Starting backtest...
2025-10-28 19:36:35,512 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSDm H1
2025-10-28 19:36:35,529 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 19:36:35,529 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 19:36:35,530 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 16385, start: 2020-01-01, end: 2022-12-31)
2025-10-28 19:36:35,530 - __main__ - ERROR - Error executing backtest: Failed to get historical data: (-2, 'Invalid arguments')
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 217, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 74, in run_backtest
    ohlc = self.market_data.get_data(
        symbol=symbol,
    ...<3 lines>...
        csv_path=csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 70, in get_data
    return self.mt5_manager.get_historical(symbol, timeframe, start, end)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 166, in get_historical
    raise RuntimeError(f"Failed to get historical data: {error}")
RuntimeError: Failed to get historical data: (-2, 'Invalid arguments')
2025-10-28 19:40:50,996 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 19:40:51,003 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 19:40:51,003 - __main__ - INFO - Starting backtest...
2025-10-28 19:40:51,004 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSDm H1
2025-10-28 19:40:51,026 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 19:40:51,026 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 19:40:51,027 - __main__ - ERROR - Error executing backtest: MT5Manager.resolve_symbol() takes 1 positional argument but 2 were given
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 217, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 74, in run_backtest
    ohlc = self.market_data.get_data(
        symbol=symbol,
    ...<3 lines>...
        csv_path=csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 70, in get_data
    return self.mt5_manager.get_historical(symbol, timeframe, start, end)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 169, in get_historical
    symbolm = self.resolve_symbol(symbol)
TypeError: MT5Manager.resolve_symbol() takes 1 positional argument but 2 were given
2025-10-28 19:42:20,088 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 19:42:20,095 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 19:42:20,095 - __main__ - INFO - Starting backtest...
2025-10-28 19:42:20,096 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSDm H1
2025-10-28 19:42:20,112 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 19:42:20,113 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 19:42:20,175 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 16385, start: 2020-01-01, end: 2022-12-31)
2025-10-28 19:42:20,175 - __main__ - ERROR - Error executing backtest: Failed to get historical data: (-2, 'Invalid arguments')
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 217, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 74, in run_backtest
    ohlc = self.market_data.get_data(
        symbol=symbol,
    ...<3 lines>...
        csv_path=csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 70, in get_data
    return self.mt5_manager.get_historical(symbol, timeframe, start, end)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 179, in get_historical
    raise RuntimeError(f"Failed to get historical data: {error}")
RuntimeError: Failed to get historical data: (-2, 'Invalid arguments')
2025-10-28 19:45:50,710 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 19:45:50,717 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 19:45:50,717 - __main__ - INFO - Starting backtest...
2025-10-28 19:45:50,719 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSDm H1
2025-10-28 19:45:50,739 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 19:45:50,739 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 19:45:50,748 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 16385, start: 2020-01-01 00:00:00, end: 2022-12-31 00:00:00)
2025-10-28 19:46:03,614 - smc_engine.data.mt5_manager - INFO - Retrieved 9602 bars for EURUSDm H1
2025-10-28 19:46:03,615 - smc_engine.orchestrator - INFO - Loaded 9602 bars
2025-10-28 19:46:03,616 - __main__ - ERROR - Error executing backtest: Missing required parameter: lookback
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 217, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 86, in run_backtest
    strategy = SMCStrategy(params)
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\core\strategy.py", line 104, in __init__
    super().__init__(params)
    ~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\core\strategy.py", line 32, in __init__
    self.validate_params()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\core\strategy.py", line 111, in validate_params
    raise ValueError(f"Missing required parameter: {param}")
ValueError: Missing required parameter: lookback
2025-10-28 19:51:31,255 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 19:51:31,262 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 19:51:31,262 - __main__ - INFO - Starting backtest...
2025-10-28 19:51:31,263 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSDm H1
2025-10-28 19:51:31,285 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 19:51:31,285 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 19:51:31,294 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 16385, start: 2020-01-01 00:00:00, end: 2022-12-31 00:00:00)
2025-10-28 19:51:31,302 - smc_engine.data.mt5_manager - INFO - Retrieved 9602 bars for EURUSDm H1
2025-10-28 19:51:31,302 - smc_engine.orchestrator - INFO - Loaded 9602 bars
2025-10-28 19:51:31,303 - __main__ - ERROR - Error executing backtest: Missing required parameter: risk_reward
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 217, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 86, in run_backtest
    strategy = SMCStrategy(params)
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\core\strategy.py", line 104, in __init__
    super().__init__(params)
    ~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\core\strategy.py", line 32, in __init__
    self.validate_params()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\core\strategy.py", line 111, in validate_params
    raise ValueError(f"Missing required parameter: {param}")
ValueError: Missing required parameter: risk_reward
2025-10-28 19:53:31,504 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 19:53:31,512 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 19:53:31,513 - __main__ - INFO - Starting backtest...
2025-10-28 19:53:31,514 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSDm H1
2025-10-28 19:53:31,532 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 19:53:31,532 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 19:53:31,542 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 16385, start: 2020-01-01 00:00:00, end: 2022-12-31 00:00:00)
2025-10-28 19:53:31,550 - smc_engine.data.mt5_manager - INFO - Retrieved 9602 bars for EURUSDm H1
2025-10-28 19:53:31,551 - smc_engine.orchestrator - INFO - Loaded 9602 bars
2025-10-28 19:53:31,551 - smc_engine.backtest.backtester - INFO - Starting backtest on 9602 bars
2025-10-28 19:53:31,551 - smc_engine.backtest.backtester - INFO - Initial balance: $10,000.00
2025-10-28 19:53:37,522 - smc_engine.backtest.backtester - INFO - Generated 13618 signals
2025-10-28 19:53:44,950 - smc_engine.backtest.backtester - INFO - Backtest complete: 257 trades
2025-10-28 19:53:44,951 - smc_engine.backtest.backtester - INFO - Final equity: $9,820.77
2025-10-28 19:53:44,951 - smc_engine.backtest.backtester - INFO - Net profit: $-179.23
2025-10-28 19:53:45,019 - __main__ - ERROR - Error executing backtest: 'Orchestrator' object has no attribute '_save_backtest_to_db'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 217, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 103, in run_backtest
    self._save_backtest_to_db(
    ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Orchestrator' object has no attribute '_save_backtest_to_db'
2025-10-28 20:08:33,553 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 20:08:33,561 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 20:08:33,561 - __main__ - INFO - Starting backtest...
2025-10-28 20:08:33,562 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSDm H1
2025-10-28 20:08:33,579 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 20:08:33,580 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 20:08:33,588 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 16385, start: 2020-01-01 00:00:00, end: 2022-12-31 00:00:00)
2025-10-28 20:08:33,598 - smc_engine.data.mt5_manager - INFO - Retrieved 9602 bars for EURUSDm H1
2025-10-28 20:08:33,599 - smc_engine.orchestrator - INFO - Loaded 9602 bars
2025-10-28 20:08:33,599 - smc_engine.backtest.backtester - INFO - Starting backtest on 9602 bars
2025-10-28 20:08:33,600 - smc_engine.backtest.backtester - INFO - Initial balance: $10,000.00
2025-10-28 20:08:39,299 - smc_engine.backtest.backtester - INFO - Generated 13618 signals
2025-10-28 20:08:46,527 - smc_engine.backtest.backtester - INFO - Backtest complete: 257 trades
2025-10-28 20:08:46,527 - smc_engine.backtest.backtester - INFO - Final equity: $9,820.77
2025-10-28 20:08:46,528 - smc_engine.backtest.backtester - INFO - Net profit: $-179.23
2025-10-28 20:08:46,605 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-28 20:08:46,664 - smc_engine.orchestrator - ERROR - Failed to persist backtest: 'MetricsResult' object has no attribute 'get'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 427, in _save_backtest_to_db
    final_balance=result.get('final_balance') or result.get('metrics', {}).get('final_balance'),
                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MetricsResult' object has no attribute 'get'
2025-10-28 20:08:46,668 - smc_engine.db.db - ERROR - Database error: 'MetricsResult' object has no attribute 'get'
2025-10-28 20:08:46,668 - smc_engine.orchestrator - ERROR - Failed to persist backtest: 'MetricsResult' object has no attribute 'get'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 117, in run_backtest
    self._save_backtest_to_db(
    ~~~~~~~~~~~~~~~~~~~~~~~~~^
        strategy_name=strategy_name,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        result=result
        ^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 427, in _save_backtest_to_db
    final_balance=result.get('final_balance') or result.get('metrics', {}).get('final_balance'),
                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MetricsResult' object has no attribute 'get'
2025-10-28 20:08:46,671 - __main__ - ERROR - Error executing backtest: 'backtest_id'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 217, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 68, in cmd_backtest
    logger.info(f"Backtest completed. Backtest ID: {result['backtest_id']}")
                                                    ~~~~~~^^^^^^^^^^^^^^^
KeyError: 'backtest_id'
2025-10-28 20:18:13,036 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 20:18:13,043 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 20:18:13,043 - __main__ - INFO - Starting backtest...
2025-10-28 20:18:13,044 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSDm H1
2025-10-28 20:18:13,064 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 20:18:13,064 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 20:18:13,073 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 16385, start: 2020-01-01 00:00:00, end: 2022-12-31 00:00:00)
2025-10-28 20:18:13,084 - smc_engine.data.mt5_manager - INFO - Retrieved 9602 bars for EURUSDm H1
2025-10-28 20:18:13,084 - smc_engine.orchestrator - INFO - Loaded 9602 bars
2025-10-28 20:18:13,085 - smc_engine.backtest.backtester - INFO - Starting backtest on 9602 bars
2025-10-28 20:18:13,085 - smc_engine.backtest.backtester - INFO - Initial balance: $10,000.00
2025-10-28 20:18:18,864 - smc_engine.backtest.backtester - INFO - Generated 13618 signals
2025-10-28 20:18:26,197 - smc_engine.backtest.backtester - INFO - Backtest complete: 257 trades
2025-10-28 20:18:26,197 - smc_engine.backtest.backtester - INFO - Final equity: $9,820.77
2025-10-28 20:18:26,198 - smc_engine.backtest.backtester - INFO - Net profit: $-179.23
2025-10-28 20:18:26,271 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-28 20:18:26,334 - smc_engine.orchestrator - ERROR - Failed to persist backtest: (builtins.TypeError) SQLite DateTime type only accepts Python datetime and date objects as input.
[SQL: INSERT INTO backtests (id, strategy_id, params_id, symbol, timeframe, start_ts, end_ts, initial_balance, final_balance, metrics, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: [{'initial_balance': 10000.0, 'symbol': 'EURUSDm', 'final_balance': 0.0, 'params_id': '72ae90b9-6fee-4db0-8f4f-4d43cc3d040a', 'start_ts': '2020-01-01', ... (1282 characters truncated) ... 285984, 0.11170625857142863, 0.32031778714286335, 0.5962255842857098]), 'strategy_id': '4e9521b2-1bd0-4e8b-9b16-c4d3825a00d7', 'end_ts': '2022-12-31'}]]
Traceback (most recent call last):
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1815, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\default.py", line 1493, in _init_compiled
    flattened_processors[key](compiled_params[key])
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\sqlite\base.py", line 1195, in process
    raise TypeError(
    ...<2 lines>...
    )
TypeError: SQLite DateTime type only accepts Python datetime and date objects as input.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 429, in _save_backtest_to_db
    session.flush()
    ~~~~~~~~~~~~~^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1821, in _execute_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str(statement), parameters, None, None
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1815, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\default.py", line 1493, in _init_compiled
    flattened_processors[key](compiled_params[key])
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\sqlite\base.py", line 1195, in process
    raise TypeError(
    ...<2 lines>...
    )
sqlalchemy.exc.StatementError: (builtins.TypeError) SQLite DateTime type only accepts Python datetime and date objects as input.
[SQL: INSERT INTO backtests (id, strategy_id, params_id, symbol, timeframe, start_ts, end_ts, initial_balance, final_balance, metrics, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: [{'initial_balance': 10000.0, 'symbol': 'EURUSDm', 'final_balance': 0.0, 'params_id': '72ae90b9-6fee-4db0-8f4f-4d43cc3d040a', 'start_ts': '2020-01-01', ... (1282 characters truncated) ... 285984, 0.11170625857142863, 0.32031778714286335, 0.5962255842857098]), 'strategy_id': '4e9521b2-1bd0-4e8b-9b16-c4d3825a00d7', 'end_ts': '2022-12-31'}]]
2025-10-28 20:18:26,504 - smc_engine.db.db - ERROR - Database error: (builtins.TypeError) SQLite DateTime type only accepts Python datetime and date objects as input.
[SQL: INSERT INTO backtests (id, strategy_id, params_id, symbol, timeframe, start_ts, end_ts, initial_balance, final_balance, metrics, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: [{'initial_balance': 10000.0, 'symbol': 'EURUSDm', 'final_balance': 0.0, 'params_id': '72ae90b9-6fee-4db0-8f4f-4d43cc3d040a', 'start_ts': '2020-01-01', ... (1282 characters truncated) ... 285984, 0.11170625857142863, 0.32031778714286335, 0.5962255842857098]), 'strategy_id': '4e9521b2-1bd0-4e8b-9b16-c4d3825a00d7', 'end_ts': '2022-12-31'}]]
2025-10-28 20:18:26,505 - smc_engine.orchestrator - ERROR - Failed to persist backtest: (builtins.TypeError) SQLite DateTime type only accepts Python datetime and date objects as input.
[SQL: INSERT INTO backtests (id, strategy_id, params_id, symbol, timeframe, start_ts, end_ts, initial_balance, final_balance, metrics, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: [{'initial_balance': 10000.0, 'symbol': 'EURUSDm', 'final_balance': 0.0, 'params_id': '72ae90b9-6fee-4db0-8f4f-4d43cc3d040a', 'start_ts': '2020-01-01', ... (1282 characters truncated) ... 285984, 0.11170625857142863, 0.32031778714286335, 0.5962255842857098]), 'strategy_id': '4e9521b2-1bd0-4e8b-9b16-c4d3825a00d7', 'end_ts': '2022-12-31'}]]
Traceback (most recent call last):
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1815, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\default.py", line 1493, in _init_compiled
    flattened_processors[key](compiled_params[key])
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\sqlite\base.py", line 1195, in process
    raise TypeError(
    ...<2 lines>...
    )
TypeError: SQLite DateTime type only accepts Python datetime and date objects as input.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 270, in run_backtest
    backtest_id = self._save_backtest_to_db(
        strategy_name=strategy_name,
    ...<6 lines>...
        result=result,
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 429, in _save_backtest_to_db
    session.flush()
    ~~~~~~~~~~~~~^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1821, in _execute_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str(statement), parameters, None, None
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1815, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\default.py", line 1493, in _init_compiled
    flattened_processors[key](compiled_params[key])
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\dialects\sqlite\base.py", line 1195, in process
    raise TypeError(
    ...<2 lines>...
    )
sqlalchemy.exc.StatementError: (builtins.TypeError) SQLite DateTime type only accepts Python datetime and date objects as input.
[SQL: INSERT INTO backtests (id, strategy_id, params_id, symbol, timeframe, start_ts, end_ts, initial_balance, final_balance, metrics, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: [{'initial_balance': 10000.0, 'symbol': 'EURUSDm', 'final_balance': 0.0, 'params_id': '72ae90b9-6fee-4db0-8f4f-4d43cc3d040a', 'start_ts': '2020-01-01', ... (1282 characters truncated) ... 285984, 0.11170625857142863, 0.32031778714286335, 0.5962255842857098]), 'strategy_id': '4e9521b2-1bd0-4e8b-9b16-c4d3825a00d7', 'end_ts': '2022-12-31'}]]
2025-10-28 20:18:26,516 - __main__ - INFO - Backtest completed. Backtest ID: None
2025-10-28 20:18:26,516 - __main__ - ERROR - Error executing backtest: 'MetricsResult' object is not subscriptable
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 217, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 69, in cmd_backtest
    logger.info(f"Net Profit: ${result['metrics']['net_profit']:.2f}")
                                ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
TypeError: 'MetricsResult' object is not subscriptable
2025-10-28 20:24:51,998 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 20:24:52,005 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 20:24:52,005 - __main__ - INFO - Starting backtest...
2025-10-28 20:24:52,006 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSDm M15
2025-10-28 20:24:52,022 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 20:24:52,022 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 20:24:52,030 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 15, start: 2020-01-01 00:00:00, end: 2022-12-31 00:00:00)
2025-10-28 20:24:52,257 - smc_engine.data.mt5_manager - INFO - Retrieved 36916 bars for EURUSDm M15
2025-10-28 20:24:52,257 - smc_engine.orchestrator - INFO - Loaded 36916 bars
2025-10-28 20:24:52,258 - smc_engine.backtest.backtester - INFO - Starting backtest on 36916 bars
2025-10-28 20:24:52,258 - smc_engine.backtest.backtester - INFO - Initial balance: $10,000.00
2025-10-28 20:25:23,785 - smc_engine.backtest.backtester - INFO - Generated 62013 signals
2025-10-28 20:26:02,945 - smc_engine.backtest.backtester - INFO - Backtest complete: 748 trades
2025-10-28 20:26:02,946 - smc_engine.backtest.backtester - INFO - Final equity: $9,706.19
2025-10-28 20:26:02,946 - smc_engine.backtest.backtester - INFO - Net profit: $-293.81
2025-10-28 20:26:03,143 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-28 20:26:03,206 - smc_engine.orchestrator - ERROR - Failed to persist backtest: (builtins.TypeError) Object of type MetricsResult is not JSON serializable
[SQL: INSERT INTO backtests (id, strategy_id, params_id, symbol, timeframe, start_ts, end_ts, initial_balance, final_balance, metrics, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: [{'final_balance': 0.0, 'symbol': 'EURUSDm', 'params_id': 'e3a886ec-b774-413d-bb89-020009f125c2', 'metrics': MetricsResult(net_profit=np.float64(-294.0 ... (1315 characters truncated) ... 37', 'end_ts': datetime.datetime(2022, 12, 31, 0, 0), 'initial_balance': 10000.0, 'start_ts': datetime.datetime(2020, 1, 1, 0, 0), 'timeframe': 'M15'}]]
Traceback (most recent call last):
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1815, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\default.py", line 1493, in _init_compiled
    flattened_processors[key](compiled_params[key])
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\sql\sqltypes.py", line 2801, in process
    return json_serializer(value)
  File "C:\Python313\Lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Python313\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Python313\Lib\json\encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "C:\Python313\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type MetricsResult is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 432, in _save_backtest_to_db
    session.flush()
    ~~~~~~~~~~~~~^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1821, in _execute_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str(statement), parameters, None, None
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1815, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\default.py", line 1493, in _init_compiled
    flattened_processors[key](compiled_params[key])
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\sql\sqltypes.py", line 2801, in process
    return json_serializer(value)
  File "C:\Python313\Lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Python313\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Python313\Lib\json\encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "C:\Python313\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
sqlalchemy.exc.StatementError: (builtins.TypeError) Object of type MetricsResult is not JSON serializable
[SQL: INSERT INTO backtests (id, strategy_id, params_id, symbol, timeframe, start_ts, end_ts, initial_balance, final_balance, metrics, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: [{'final_balance': 0.0, 'symbol': 'EURUSDm', 'params_id': 'e3a886ec-b774-413d-bb89-020009f125c2', 'metrics': MetricsResult(net_profit=np.float64(-294.0 ... (1315 characters truncated) ... 37', 'end_ts': datetime.datetime(2022, 12, 31, 0, 0), 'initial_balance': 10000.0, 'start_ts': datetime.datetime(2020, 1, 1, 0, 0), 'timeframe': 'M15'}]]
2025-10-28 20:26:03,311 - smc_engine.db.db - ERROR - Database error: (builtins.TypeError) Object of type MetricsResult is not JSON serializable
[SQL: INSERT INTO backtests (id, strategy_id, params_id, symbol, timeframe, start_ts, end_ts, initial_balance, final_balance, metrics, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: [{'final_balance': 0.0, 'symbol': 'EURUSDm', 'params_id': 'e3a886ec-b774-413d-bb89-020009f125c2', 'metrics': MetricsResult(net_profit=np.float64(-294.0 ... (1315 characters truncated) ... 37', 'end_ts': datetime.datetime(2022, 12, 31, 0, 0), 'initial_balance': 10000.0, 'start_ts': datetime.datetime(2020, 1, 1, 0, 0), 'timeframe': 'M15'}]]
2025-10-28 20:26:03,312 - smc_engine.orchestrator - ERROR - Failed to persist backtest: (builtins.TypeError) Object of type MetricsResult is not JSON serializable
[SQL: INSERT INTO backtests (id, strategy_id, params_id, symbol, timeframe, start_ts, end_ts, initial_balance, final_balance, metrics, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: [{'final_balance': 0.0, 'symbol': 'EURUSDm', 'params_id': 'e3a886ec-b774-413d-bb89-020009f125c2', 'metrics': MetricsResult(net_profit=np.float64(-294.0 ... (1315 characters truncated) ... 37', 'end_ts': datetime.datetime(2022, 12, 31, 0, 0), 'initial_balance': 10000.0, 'start_ts': datetime.datetime(2020, 1, 1, 0, 0), 'timeframe': 'M15'}]]
Traceback (most recent call last):
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1815, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\default.py", line 1493, in _init_compiled
    flattened_processors[key](compiled_params[key])
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\sql\sqltypes.py", line 2801, in process
    return json_serializer(value)
  File "C:\Python313\Lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Python313\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Python313\Lib\json\encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "C:\Python313\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type MetricsResult is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 273, in run_backtest
    backtest_id = self._save_backtest_to_db(
        strategy_name=strategy_name,
    ...<6 lines>...
        result=result,
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 432, in _save_backtest_to_db
    session.flush()
    ~~~~~~~~~~~~~^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1821, in _execute_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str(statement), parameters, None, None
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\base.py", line 1815, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\engine\default.py", line 1493, in _init_compiled
    flattened_processors[key](compiled_params[key])
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\AppData\Roaming\Python\Python313\site-packages\sqlalchemy\sql\sqltypes.py", line 2801, in process
    return json_serializer(value)
  File "C:\Python313\Lib\json\__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Python313\Lib\json\encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Python313\Lib\json\encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "C:\Python313\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
sqlalchemy.exc.StatementError: (builtins.TypeError) Object of type MetricsResult is not JSON serializable
[SQL: INSERT INTO backtests (id, strategy_id, params_id, symbol, timeframe, start_ts, end_ts, initial_balance, final_balance, metrics, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: [{'final_balance': 0.0, 'symbol': 'EURUSDm', 'params_id': 'e3a886ec-b774-413d-bb89-020009f125c2', 'metrics': MetricsResult(net_profit=np.float64(-294.0 ... (1315 characters truncated) ... 37', 'end_ts': datetime.datetime(2022, 12, 31, 0, 0), 'initial_balance': 10000.0, 'start_ts': datetime.datetime(2020, 1, 1, 0, 0), 'timeframe': 'M15'}]]
2025-10-28 20:26:03,324 - __main__ - WARNING - No metrics found in result.
2025-10-28 20:26:03,325 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-28 20:34:13,322 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 20:34:13,328 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 20:34:13,328 - __main__ - INFO - Starting backtest...
2025-10-28 20:34:13,329 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSDm M15
2025-10-28 20:34:13,349 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 20:34:13,349 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 20:34:13,358 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 15, start: 2020-01-01 00:00:00, end: 2022-12-31 00:00:00)
2025-10-28 20:34:13,378 - smc_engine.data.mt5_manager - INFO - Retrieved 36916 bars for EURUSDm M15
2025-10-28 20:34:13,378 - smc_engine.orchestrator - INFO - Loaded 36916 bars
2025-10-28 20:34:13,379 - smc_engine.backtest.backtester - INFO - Starting backtest on 36916 bars
2025-10-28 20:34:13,379 - smc_engine.backtest.backtester - INFO - Initial balance: $10,000.00
2025-10-28 20:34:44,982 - smc_engine.backtest.backtester - INFO - Generated 62013 signals
2025-10-28 20:35:23,958 - smc_engine.backtest.backtester - INFO - Backtest complete: 748 trades
2025-10-28 20:35:23,959 - smc_engine.backtest.backtester - INFO - Final equity: $9,706.19
2025-10-28 20:35:23,959 - smc_engine.backtest.backtester - INFO - Net profit: $-293.81
2025-10-28 20:35:24,159 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-28 20:35:24,431 - __main__ - WARNING - No metrics found in result.
2025-10-28 20:35:24,431 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-28 20:49:51,925 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 20:49:51,938 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 20:49:51,939 - __main__ - INFO - Starting backtest...
2025-10-28 20:49:51,939 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSDm M15
2025-10-28 20:49:51,957 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 20:49:51,957 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 20:49:51,968 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 15, start: 2020-01-01 00:00:00, end: 2022-12-31 00:00:00)
2025-10-28 20:49:51,987 - smc_engine.data.mt5_manager - INFO - Retrieved 36916 bars for EURUSDm M15
2025-10-28 20:49:51,988 - smc_engine.orchestrator - INFO - Loaded 36916 bars
2025-10-28 20:49:51,988 - smc_engine.backtest.backtester - INFO - Starting backtest on 36916 bars
2025-10-28 20:49:51,989 - smc_engine.backtest.backtester - INFO - Initial balance: $10,000.00
2025-10-28 20:50:23,765 - smc_engine.backtest.backtester - INFO - Generated 62013 signals
2025-10-28 20:51:02,112 - smc_engine.backtest.backtester - INFO - Backtest complete: 748 trades
2025-10-28 20:51:02,112 - smc_engine.backtest.backtester - INFO - Final equity: $9,706.19
2025-10-28 20:51:02,112 - smc_engine.backtest.backtester - INFO - Net profit: $-293.81
2025-10-28 20:51:02,328 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-28 20:51:02,558 - __main__ - WARNING - No metrics found in result.
2025-10-28 20:51:02,558 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-28 21:14:27,869 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 21:14:27,882 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 21:14:27,882 - __main__ - INFO - Starting backtest...
2025-10-28 21:14:27,883 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSDm M15
2025-10-28 21:14:27,900 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 21:14:27,901 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 21:14:27,911 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 15, start: 2020-01-01 00:00:00, end: 2022-12-31 00:00:00)
2025-10-28 21:14:27,935 - smc_engine.data.mt5_manager - INFO - Retrieved 36916 bars for EURUSDm M15
2025-10-28 21:14:27,936 - smc_engine.orchestrator - INFO - Loaded 36916 bars
2025-10-28 21:14:27,937 - smc_engine.backtest.backtester - INFO - Starting backtest on 36916 bars
2025-10-28 21:14:27,938 - smc_engine.backtest.backtester - INFO - Initial balance: $10,000.00
2025-10-28 21:14:57,244 - smc_engine.backtest.backtester - INFO - Generated 62013 signals
2025-10-28 21:15:36,802 - smc_engine.backtest.backtester - INFO - Backtest complete: 748 trades
2025-10-28 21:15:36,802 - smc_engine.backtest.backtester - INFO - Final equity: $9,706.19
2025-10-28 21:15:36,803 - smc_engine.backtest.backtester - INFO - Net profit: $-293.81
2025-10-28 21:15:37,019 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-28 21:15:37,241 - smc_engine.orchestrator - INFO - Backtest persisted: id=a53d59d0-4788-4102-805b-d576e160ea09, trades=748
2025-10-28 21:15:37,242 - __main__ - WARNING - No metrics found in result.
2025-10-28 21:15:37,243 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-28 21:36:23,192 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 21:36:23,201 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 21:36:23,201 - __main__ - INFO - Starting optimization...
2025-10-28 21:36:23,209 - __main__ - ERROR - Error executing optimize: Orchestrator.run_optimization() got an unexpected keyword argument 'start_date'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 232, in main
    cmd_optimize(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 102, in cmd_optimize
    result = orchestrator.run_optimization(
        strategy_name=args.strategy,
    ...<11 lines>...
        csv_path=args.csv_path
    )
TypeError: Orchestrator.run_optimization() got an unexpected keyword argument 'start_date'
2025-10-28 21:38:24,235 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 21:38:24,241 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 21:38:24,242 - __main__ - INFO - Starting optimization...
2025-10-28 21:38:24,243 - __main__ - ERROR - Error executing optimize: Orchestrator.run_optimization() got an unexpected keyword argument 'initial_balance'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 232, in main
    cmd_optimize(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 102, in cmd_optimize
    result = orchestrator.run_optimization(
        strategy_name=args.strategy,
    ...<11 lines>...
        csv_path=args.csv_path
    )
TypeError: Orchestrator.run_optimization() got an unexpected keyword argument 'initial_balance'
2025-10-28 21:39:05,014 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 21:39:05,020 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 21:39:05,021 - __main__ - INFO - Starting optimization...
2025-10-28 21:39:05,022 - __main__ - ERROR - Error executing optimize: Orchestrator.run_optimization() got an unexpected keyword argument 'constraints'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 232, in main
    cmd_optimize(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 102, in cmd_optimize
    result = orchestrator.run_optimization(
        strategy_name=args.strategy,
    ...<11 lines>...
        csv_path=args.csv_path
    )
TypeError: Orchestrator.run_optimization() got an unexpected keyword argument 'constraints'
2025-10-28 21:39:44,507 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 21:39:44,513 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 21:39:44,513 - __main__ - INFO - Starting optimization...
2025-10-28 21:39:44,514 - __main__ - ERROR - Error executing optimize: Orchestrator.run_optimization() got an unexpected keyword argument 'data_source'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 231, in main
    cmd_optimize(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 102, in cmd_optimize
    result = orchestrator.run_optimization(
        strategy_name=args.strategy,
    ...<10 lines>...
        csv_path=args.csv_path
    )
TypeError: Orchestrator.run_optimization() got an unexpected keyword argument 'data_source'
2025-10-28 21:42:26,379 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 21:42:26,386 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 21:42:26,386 - __main__ - INFO - Starting optimization...
2025-10-28 21:42:26,387 - smc_engine.orchestrator - INFO - Running optimization: smc, method=optuna, trials=200
2025-10-28 21:42:26,405 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 21:42:26,405 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 21:42:26,415 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 15, start: 2020-01-01 00:00:00, end: 2022-12-31 00:00:00)
2025-10-28 21:42:26,447 - smc_engine.data.mt5_manager - INFO - Retrieved 36916 bars for EURUSDm M15
2025-10-28 21:42:26,448 - smc_engine.optimize.optimizer - INFO - Starting optimization: method=optuna, trials=200
2025-10-28 21:42:26,449 - smc_engine.optimize.optimizer - INFO - Running Optuna optimization with 200 trials...
2025-10-28 21:42:27,771 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:28,065 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:28,350 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:28,603 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:28,886 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:29,148 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:29,427 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:29,725 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:29,954 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:30,190 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:30,494 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:30,783 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:31,048 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:31,306 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:31,603 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:31,996 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:32,261 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:32,550 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:32,826 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:33,056 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:33,463 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:33,907 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:34,146 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:34,423 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:34,650 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:34,891 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:35,119 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:35,431 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:35,655 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:35,973 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:36,208 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:36,436 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:36,690 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:36,952 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:37,196 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:37,440 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:37,657 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:37,889 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:38,123 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:38,349 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:38,586 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:38,820 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:39,115 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:39,350 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:39,766 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:40,130 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:40,391 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:40,619 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:40,867 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:41,135 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:41,352 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:41,573 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:41,989 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:42,334 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:42,551 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:42,776 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:43,026 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:43,260 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:43,505 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:43,726 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:43,968 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:44,206 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:44,434 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:44,659 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:44,883 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:45,337 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:45,558 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:45,797 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:46,037 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:46,297 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:46,578 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:46,833 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:47,084 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:47,338 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:47,635 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:47,891 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:48,165 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:48,402 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:48,649 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:49,050 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:49,361 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:49,582 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:49,839 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:50,155 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:50,649 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:50,928 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:51,259 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:51,570 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:52,001 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:52,327 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:52,746 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:53,061 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:53,351 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:53,621 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:53,888 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:54,197 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:54,474 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:54,724 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:54,999 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:55,263 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:55,530 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:55,790 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:56,051 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:56,334 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:56,633 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:56,989 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:57,370 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:57,705 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:57,984 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:58,246 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:59,060 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:59,361 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:59,644 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:42:59,905 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:00,195 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:00,509 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:00,790 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:01,076 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:01,343 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:01,615 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:01,883 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:02,163 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:02,482 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:02,747 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:03,031 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:03,325 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:03,598 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:03,864 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:04,138 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:04,410 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:04,801 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:05,263 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:05,618 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:05,930 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:06,209 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:06,477 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:06,742 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:07,012 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:07,835 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:08,186 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:08,494 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:09,023 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:09,502 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:09,838 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:10,184 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:10,638 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:11,187 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:11,569 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:11,890 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:12,223 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:12,530 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:12,871 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:13,300 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:13,797 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:14,117 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:14,413 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:14,695 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:14,996 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:15,303 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:15,627 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:15,904 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:16,206 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:16,522 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:16,801 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:17,108 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:17,408 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:17,732 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:18,040 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:18,333 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:18,630 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:18,920 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:19,216 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:19,505 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:19,809 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:20,103 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:20,430 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:20,759 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:21,069 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:21,364 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:21,659 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:22,231 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:22,542 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:22,987 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:23,356 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:23,682 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:23,970 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:24,288 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:24,583 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:24,868 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:25,153 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:25,449 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:25,754 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:26,049 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:26,375 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:26,673 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:27,027 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:27,420 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:27,734 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:28,056 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:28,439 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:43:28,554 - smc_engine.optimize.optimizer - INFO - Optimization complete. Best score: -10000000000.0000
2025-10-28 21:43:28,565 - smc_engine.optimize.optimizer - INFO - Best parameters: {'swing_lookback': 10, 'bos_atr_margin': 0.9655000144869412, 'ob_min_impulse_bars': 4, 'ob_min_impulse_atr': 1.897987726295555, 'fvg_min_gap_atr': 0.2624074561769746, 'liquidity_grab_atr': 0.6559945203362026, 'risk_per_trade': 0.01116167224336399, 'risk_reward_ratio': 2.799264218662403, 'atr_period': 16, 'atr_sl_multiplier': 2.0621088666940683}
2025-10-28 21:43:28,566 - smc_engine.optimize.optimizer - INFO - Best score: -10000000000.0000
2025-10-28 21:43:28,571 - smc_engine.orchestrator - INFO - Persisting optimization run to DB...
2025-10-28 21:43:28,668 - smc_engine.orchestrator - ERROR - Failed to persist optimization run: The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 535, in _save_optimization_to_db
    all_trials = getattr(result, "all_trials", []) or []
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\site-packages\pandas\core\generic.py", line 1577, in __nonzero__
    raise ValueError(
    ...<2 lines>...
    )
ValueError: The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().
2025-10-28 21:43:28,772 - smc_engine.db.db - ERROR - Database error: The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().
2025-10-28 21:43:28,772 - smc_engine.orchestrator - ERROR - Failed to persist optimization run: The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 371, in run_optimization
    self._save_optimization_to_db(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        strategy_name=strategy_name,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
        result=result,
        ^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 535, in _save_optimization_to_db
    all_trials = getattr(result, "all_trials", []) or []
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\site-packages\pandas\core\generic.py", line 1577, in __nonzero__
    raise ValueError(
    ...<2 lines>...
    )
ValueError: The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().
2025-10-28 21:43:28,778 - __main__ - ERROR - Error executing optimize: 'run_id'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 230, in main
    cmd_optimize(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 116, in cmd_optimize
    logger.info(f"Optimization completed. Run ID: {result['run_id']}")
                                                   ~~~~~~^^^^^^^^^^
KeyError: 'run_id'
2025-10-28 21:49:02,583 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 21:49:02,589 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 21:49:02,590 - __main__ - INFO - Starting optimization...
2025-10-28 21:49:02,591 - smc_engine.orchestrator - INFO - Running optimization: smc, method=optuna, trials=200
2025-10-28 21:49:02,608 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 21:49:02,609 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 21:49:02,618 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 15, start: 2020-01-01 00:00:00, end: 2022-12-31 00:00:00)
2025-10-28 21:49:02,643 - smc_engine.data.mt5_manager - INFO - Retrieved 36916 bars for EURUSDm M15
2025-10-28 21:49:02,644 - smc_engine.optimize.optimizer - INFO - Starting optimization: method=optuna, trials=200
2025-10-28 21:49:02,644 - smc_engine.optimize.optimizer - INFO - Running Optuna optimization with 200 trials...
2025-10-28 21:49:03,329 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:03,549 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:03,781 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:04,036 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:04,261 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:04,493 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:04,739 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:04,989 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:05,229 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:05,438 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:05,670 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:05,921 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:06,153 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:06,451 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:06,684 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:06,960 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:07,244 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:07,505 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:07,756 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:08,078 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:08,328 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:08,569 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:08,809 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:09,063 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:09,302 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:09,582 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:09,822 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:10,076 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:10,319 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:10,577 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:10,839 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:11,108 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:11,343 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:11,609 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:11,947 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:12,214 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:12,480 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:12,974 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:13,237 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:13,479 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:13,718 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:13,970 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:14,218 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:14,444 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:14,681 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:14,936 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:15,208 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:15,436 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:15,721 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:15,973 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:16,228 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:16,465 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:16,692 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:16,919 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:17,155 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:17,442 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:17,693 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:17,920 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:18,174 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:18,450 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:18,681 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:18,913 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:19,183 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:19,473 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:19,728 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:19,981 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:20,228 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:20,491 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:20,719 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:20,946 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:21,191 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:21,420 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:21,655 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:21,890 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:22,312 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:22,539 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:22,815 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:23,095 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:23,343 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:23,581 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:23,815 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:24,044 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:24,314 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:24,542 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:24,817 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:25,071 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:25,331 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:25,565 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:25,883 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:26,385 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:26,682 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:26,953 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:27,270 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:27,577 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:27,931 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:28,273 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:28,571 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:28,848 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:29,121 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:29,408 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:29,732 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:30,028 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:30,308 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:30,590 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:30,859 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:31,146 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:31,413 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:31,681 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:31,969 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:32,290 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:32,555 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:32,843 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:33,126 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:33,420 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:33,846 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:34,203 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:34,503 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:34,877 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:35,241 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:35,567 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:35,877 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:36,200 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:36,513 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:36,816 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:37,091 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:37,383 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:37,649 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:37,928 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:38,195 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:38,472 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:38,740 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:39,018 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:39,284 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:39,569 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:39,844 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:40,149 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:40,431 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:40,717 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:40,997 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:41,292 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:41,579 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:41,924 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:42,446 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:42,737 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:43,022 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:43,389 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:43,700 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:44,032 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:44,392 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:44,722 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:45,014 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:45,296 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:45,585 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:45,860 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:46,170 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:46,430 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:46,702 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:46,981 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:47,342 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:47,637 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:47,973 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:48,320 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:48,643 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:48,941 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:49,242 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:49,530 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:49,804 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:50,349 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:50,640 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:50,910 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:51,206 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:51,511 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:51,789 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:52,063 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:52,331 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:52,610 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:52,888 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:53,172 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:53,460 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:53,743 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:54,035 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:54,314 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:54,689 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:55,009 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:55,298 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:55,586 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:55,885 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:56,183 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:56,475 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:56,770 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:57,066 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:57,376 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:57,659 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:57,984 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:58,355 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:58,729 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:59,022 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:59,345 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:59,647 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:49:59,956 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 21:50:00,052 - smc_engine.optimize.optimizer - INFO - Optimization complete. Best score: -10000000000.0000
2025-10-28 21:50:00,063 - smc_engine.optimize.optimizer - INFO - Best parameters: {'swing_lookback': 10, 'bos_atr_margin': 0.9655000144869412, 'ob_min_impulse_bars': 4, 'ob_min_impulse_atr': 1.897987726295555, 'fvg_min_gap_atr': 0.2624074561769746, 'liquidity_grab_atr': 0.6559945203362026, 'risk_per_trade': 0.01116167224336399, 'risk_reward_ratio': 2.799264218662403, 'atr_period': 16, 'atr_sl_multiplier': 2.0621088666940683}
2025-10-28 21:50:00,064 - smc_engine.optimize.optimizer - INFO - Best score: -10000000000.0000
2025-10-28 21:50:00,068 - smc_engine.orchestrator - INFO - Persisting optimization run to DB...
2025-10-28 21:50:00,127 - smc_engine.orchestrator - ERROR - Failed to persist optimization run: 'OptimizationResult' object has no attribute 'get'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 520, in _save_optimization_to_db
    metrics_summary = getattr(result, "metrics_summary", None) or result.get("metrics_summary", None)
                                                                  ^^^^^^^^^^
AttributeError: 'OptimizationResult' object has no attribute 'get'
2025-10-28 21:50:00,130 - smc_engine.db.db - ERROR - Database error: 'OptimizationResult' object has no attribute 'get'
2025-10-28 21:50:00,130 - smc_engine.orchestrator - ERROR - Failed to persist optimization run: 'OptimizationResult' object has no attribute 'get'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 371, in run_optimization
    self._save_optimization_to_db(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        strategy_name=strategy_name,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
        result=result,
        ^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 520, in _save_optimization_to_db
    metrics_summary = getattr(result, "metrics_summary", None) or result.get("metrics_summary", None)
                                                                  ^^^^^^^^^^
AttributeError: 'OptimizationResult' object has no attribute 'get'
2025-10-28 21:50:00,136 - __main__ - ERROR - Error executing optimize: 'run_id'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 230, in main
    cmd_optimize(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 116, in cmd_optimize
    logger.info(f"Optimization completed. Run ID: {result['run_id']}")
                                                   ~~~~~~^^^^^^^^^^
KeyError: 'run_id'
2025-10-28 22:12:43,688 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 22:12:43,694 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 22:12:43,695 - __main__ - INFO - Starting optimization...
2025-10-28 22:12:43,696 - smc_engine.orchestrator - INFO - Running optimization: smc, method=optuna, trials=200
2025-10-28 22:12:43,716 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 22:12:43,717 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 22:12:43,726 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 15, start: 2020-01-01 00:00:00, end: 2022-12-31 00:00:00)
2025-10-28 22:12:43,761 - smc_engine.data.mt5_manager - INFO - Retrieved 36916 bars for EURUSDm M15
2025-10-28 22:12:43,762 - smc_engine.optimize.optimizer - INFO - Starting optimization: method=optuna, trials=200
2025-10-28 22:12:43,762 - smc_engine.optimize.optimizer - INFO - Running Optuna optimization with 200 trials...
2025-10-28 22:12:44,465 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:44,686 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:44,911 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:45,235 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:45,456 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:45,686 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:45,918 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:46,150 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:46,391 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:46,607 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:46,856 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:47,120 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:47,441 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:47,684 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:47,923 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:48,179 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:48,455 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:48,701 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:48,941 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:49,237 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:49,487 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:49,730 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:49,976 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:50,220 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:50,483 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:50,738 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:50,987 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:51,227 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:51,496 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:51,799 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:52,102 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:52,357 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:52,628 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:52,887 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:53,138 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:53,377 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:53,628 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:53,891 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:54,150 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:54,386 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:54,635 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:54,861 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:55,104 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:55,381 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:55,621 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:55,875 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:56,143 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:56,393 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:56,818 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:57,054 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:57,331 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:57,574 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:57,808 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:58,036 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:58,271 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:58,527 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:58,808 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:59,046 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:59,275 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:59,522 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:12:59,776 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:00,260 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:00,514 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:00,806 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:01,049 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:01,335 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:01,595 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:01,865 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:02,132 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:02,397 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:02,733 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:02,980 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:03,221 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:03,496 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:03,755 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:03,990 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:04,242 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:04,490 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:04,746 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:04,993 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:05,243 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:05,553 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:05,853 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:06,135 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:06,432 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:06,715 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:07,007 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:07,297 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:07,609 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:07,882 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:08,189 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:08,486 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:08,803 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:09,099 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:09,527 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:09,819 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:10,118 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:10,429 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:10,746 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:11,030 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:11,322 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:11,612 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:11,908 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:12,190 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:12,505 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:12,783 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:13,094 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:13,405 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:13,693 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:13,988 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:14,282 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:14,581 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:14,864 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:15,147 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:15,434 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:15,715 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:15,999 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:16,286 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:16,576 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:16,966 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:17,410 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:17,758 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:18,171 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:18,446 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:18,845 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:19,146 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:19,426 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:19,709 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:19,973 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:20,265 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:20,547 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:20,837 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:21,123 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:21,410 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:21,695 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:21,989 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:22,273 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:22,566 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:22,860 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:23,191 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:23,491 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:23,775 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:24,073 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:24,363 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:24,658 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:24,942 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:25,251 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:25,550 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:25,839 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:26,124 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:26,434 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:26,757 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:27,047 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:27,322 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:27,649 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:27,957 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:28,244 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:28,527 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:28,835 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:29,140 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:29,438 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:29,756 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:30,040 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:30,349 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:30,654 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:30,952 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:31,248 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:31,528 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:31,821 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:32,120 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:32,419 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:32,943 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:33,253 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:33,558 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:33,871 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:34,162 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:34,465 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:34,790 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:35,097 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:35,384 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:35,693 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:35,981 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:36,286 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:36,586 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:36,877 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:37,174 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:37,469 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:37,778 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:38,062 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:38,348 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:38,644 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:38,955 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:39,240 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:39,553 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:39,962 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:40,270 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:40,591 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:40,926 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:41,236 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:41,540 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:13:41,633 - smc_engine.optimize.optimizer - INFO - Optimization complete. Best score: -10000000000.0000
2025-10-28 22:13:41,640 - smc_engine.optimize.optimizer - INFO - Best parameters: {'swing_lookback': 10, 'bos_atr_margin': 0.9655000144869412, 'ob_min_impulse_bars': 4, 'ob_min_impulse_atr': 1.897987726295555, 'fvg_min_gap_atr': 0.2624074561769746, 'liquidity_grab_atr': 0.6559945203362026, 'risk_per_trade': 0.01116167224336399, 'risk_reward_ratio': 2.799264218662403, 'atr_period': 16, 'atr_sl_multiplier': 2.0621088666940683}
2025-10-28 22:13:41,640 - smc_engine.optimize.optimizer - INFO - Best score: -10000000000.0000
2025-10-28 22:13:41,644 - smc_engine.orchestrator - INFO - Persisting optimization run to DB...
2025-10-28 22:13:41,777 - __main__ - ERROR - Error executing optimize: 'run_id'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 230, in main
    cmd_optimize(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 116, in cmd_optimize
    logger.info(f"Optimization completed. Run ID: {result['run_id']}")
                                                   ~~~~~~^^^^^^^^^^
KeyError: 'run_id'
2025-10-28 22:20:43,631 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 22:20:43,644 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 22:20:43,644 - __main__ - INFO - Starting optimization...
2025-10-28 22:20:43,645 - smc_engine.orchestrator - INFO - Running optimization: smc, method=optuna, trials=200
2025-10-28 22:20:43,664 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 22:20:43,664 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 22:20:43,675 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 15, start: 2020-01-01 00:00:00, end: 2022-12-31 00:00:00)
2025-10-28 22:20:43,695 - smc_engine.data.mt5_manager - INFO - Retrieved 36916 bars for EURUSDm M15
2025-10-28 22:20:43,695 - smc_engine.optimize.optimizer - INFO - Starting optimization: method=optuna, trials=200
2025-10-28 22:20:43,696 - smc_engine.optimize.optimizer - INFO - Running Optuna optimization with 200 trials...
2025-10-28 22:20:44,384 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:44,605 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:44,842 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:45,146 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:45,371 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:45,621 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:45,873 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:46,116 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:46,344 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:46,549 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:46,808 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:47,041 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:47,284 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:47,526 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:47,766 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:48,006 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:48,253 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:48,604 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:48,961 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:49,266 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:49,568 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:49,843 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:50,108 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:50,343 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:50,613 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:50,852 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:51,104 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:51,346 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:51,613 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:51,847 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:52,087 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:52,317 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:52,561 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:52,801 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:53,133 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:53,368 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:53,611 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:53,845 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:54,108 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:54,443 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:54,688 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:54,923 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:55,169 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:55,436 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:55,733 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:55,984 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:56,229 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:56,478 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:56,736 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:56,970 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:57,213 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:57,478 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:57,715 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:57,982 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:58,327 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:58,650 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:59,002 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:59,487 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:20:59,809 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:00,092 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:00,454 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:00,757 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:01,054 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:01,407 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:01,749 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:01,992 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:02,287 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:02,591 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:02,887 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:03,126 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:03,410 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:03,709 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:04,003 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:04,256 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:04,575 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:04,897 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:05,155 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:05,397 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:05,695 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:06,005 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:06,265 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:06,505 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:06,755 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:07,003 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:07,253 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:07,494 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:07,737 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:07,987 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:08,242 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:08,476 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:08,737 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:09,072 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:09,320 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:09,566 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:09,803 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:10,050 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:10,283 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:10,542 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:10,857 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:11,141 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:11,376 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:11,642 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:11,865 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:12,109 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:12,344 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:12,625 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:12,912 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:13,185 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:13,454 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:13,723 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:13,997 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:14,316 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:14,633 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:15,108 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:15,503 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:15,810 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:16,131 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:16,402 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:16,670 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:16,974 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:17,293 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:17,558 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:17,829 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:18,089 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:18,355 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:18,687 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:19,141 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:19,430 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:19,695 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:19,960 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:20,235 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:20,498 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:20,772 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:21,045 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:21,376 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:21,687 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:21,974 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:22,267 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:22,570 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:22,867 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:23,160 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:23,450 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:23,731 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:24,024 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:24,312 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:24,611 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:24,901 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:25,197 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:25,497 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:25,796 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:26,093 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:26,394 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:26,833 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:27,212 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:27,565 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:27,907 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:28,267 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:28,597 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:28,904 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:29,198 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:29,489 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:29,772 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:30,077 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:30,374 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:30,665 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:30,985 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:31,270 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:31,571 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:31,862 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:32,148 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:32,432 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:32,723 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:33,025 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:33,325 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:33,607 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:33,913 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:34,196 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:34,498 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:34,790 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:35,092 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:35,379 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:35,686 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:35,975 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:36,285 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:36,586 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:36,871 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:37,160 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:37,454 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:37,929 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:38,247 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:38,601 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:38,952 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:39,253 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:39,542 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:39,844 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:40,130 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:40,417 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:40,712 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:40,999 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:41,291 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:21:41,377 - smc_engine.optimize.optimizer - INFO - Optimization complete. Best score: -10000000000.0000
2025-10-28 22:21:41,382 - smc_engine.optimize.optimizer - INFO - Best parameters: {'swing_lookback': 10, 'bos_atr_margin': 0.9655000144869412, 'ob_min_impulse_bars': 4, 'ob_min_impulse_atr': 1.897987726295555, 'fvg_min_gap_atr': 0.2624074561769746, 'liquidity_grab_atr': 0.6559945203362026, 'risk_per_trade': 0.01116167224336399, 'risk_reward_ratio': 2.799264218662403, 'atr_period': 16, 'atr_sl_multiplier': 2.0621088666940683}
2025-10-28 22:21:41,383 - smc_engine.optimize.optimizer - INFO - Best score: -10000000000.0000
2025-10-28 22:21:41,388 - smc_engine.orchestrator - INFO - Persisting optimization run to DB...
2025-10-28 22:21:41,535 - smc_engine.orchestrator - INFO - Optimization run persisted successfully: id=4c847498-38b1-4cfb-9ed8-82adffa4c7b3
2025-10-28 22:21:41,539 - __main__ - ERROR - Error executing optimize: 'run_id'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 230, in main
    cmd_optimize(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 116, in cmd_optimize
    logger.info(f"Optimization completed. Run ID: {result['run_id']}")
                                                   ~~~~~~^^^^^^^^^^
KeyError: 'run_id'
2025-10-28 22:29:25,187 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 22:29:25,199 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 22:29:25,200 - __main__ - INFO - Starting optimization...
2025-10-28 22:29:25,201 - smc_engine.orchestrator - INFO - Running optimization: smc, method=optuna, trials=200
2025-10-28 22:29:25,220 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 22:29:25,221 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 22:29:25,231 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 15, start: 2020-01-01 00:00:00, end: 2022-12-31 00:00:00)
2025-10-28 22:29:25,251 - smc_engine.data.mt5_manager - INFO - Retrieved 36916 bars for EURUSDm M15
2025-10-28 22:29:25,251 - smc_engine.optimize.optimizer - INFO - Starting optimization: method=optuna, trials=200
2025-10-28 22:29:25,252 - smc_engine.optimize.optimizer - INFO - Running Optuna optimization with 200 trials...
2025-10-28 22:29:25,969 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:26,188 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:26,439 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:26,718 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:26,944 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:27,187 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:27,436 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:27,672 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:27,906 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:28,110 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:28,420 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:28,653 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:28,900 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:29,131 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:29,393 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:29,680 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:29,963 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:30,193 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:30,428 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:30,704 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:31,023 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:31,273 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:31,549 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:31,836 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:32,114 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:32,408 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:32,664 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:32,904 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:33,151 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:33,406 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:33,643 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:33,896 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:34,169 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:34,452 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:34,698 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:34,949 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:35,181 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:35,408 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:35,639 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:35,880 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:36,181 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:36,408 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:36,645 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:36,872 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:37,159 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:37,434 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:37,818 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:38,200 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:38,451 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:38,776 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:39,196 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:39,440 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:39,684 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:39,931 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:40,179 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:40,417 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:40,711 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:41,002 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:41,250 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:41,499 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:41,742 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:42,009 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:42,261 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:42,511 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:42,757 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:43,042 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:43,330 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:43,574 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:43,819 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:44,071 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:44,325 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:44,606 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:44,893 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:45,145 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:45,394 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:45,629 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:45,867 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:46,118 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:46,359 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:46,606 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:46,845 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:47,133 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:47,402 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:47,654 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:47,889 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:48,135 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:48,380 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:48,632 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:48,938 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:49,212 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:49,494 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:49,835 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:50,126 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:50,426 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:50,681 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:50,939 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:51,182 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:51,421 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:51,673 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:52,006 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:52,289 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:52,576 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:52,859 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:53,139 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:53,411 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:53,706 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:53,977 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:54,276 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:54,557 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:54,987 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:55,278 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:55,563 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:55,857 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:56,155 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:56,441 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:56,720 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:57,006 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:57,384 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:57,683 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:57,965 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:58,262 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:58,549 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:58,834 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:59,117 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:59,412 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:29:59,699 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:00,016 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:00,517 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:00,820 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:01,119 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:01,399 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:01,707 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:02,000 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:02,713 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:03,002 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:03,272 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:03,560 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:03,853 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:04,144 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:04,419 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:04,694 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:04,977 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:05,303 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:05,577 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:05,864 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:06,137 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:06,417 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:06,679 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:06,949 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:07,218 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:07,493 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:07,759 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:08,029 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:08,296 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:08,567 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:08,906 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:09,315 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:09,890 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:10,208 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:10,498 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:10,765 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:11,053 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:11,337 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:11,612 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:11,880 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:12,163 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:12,425 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:12,707 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:12,974 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:13,260 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:13,533 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:13,801 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:14,059 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:14,365 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:14,755 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:15,093 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:15,439 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:15,706 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:16,061 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:16,345 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:16,621 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:16,894 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:17,189 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:17,455 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:17,797 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:18,072 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:18,362 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:18,619 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:18,901 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:19,246 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:19,518 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:19,834 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:20,274 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:20,704 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:21,094 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:21,435 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:21,797 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:22,134 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:22,417 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:22,689 - smc_engine.optimize.optimizer - ERROR - Error evaluating params: Missing required parameter: lookback
2025-10-28 22:30:22,769 - smc_engine.optimize.optimizer - INFO - Optimization complete. Best score: -10000000000.0000
2025-10-28 22:30:22,782 - smc_engine.optimize.optimizer - INFO - Best parameters: {'swing_lookback': 10, 'bos_atr_margin': 0.9655000144869412, 'ob_min_impulse_bars': 4, 'ob_min_impulse_atr': 1.897987726295555, 'fvg_min_gap_atr': 0.2624074561769746, 'liquidity_grab_atr': 0.6559945203362026, 'risk_per_trade': 0.01116167224336399, 'risk_reward_ratio': 2.799264218662403, 'atr_period': 16, 'atr_sl_multiplier': 2.0621088666940683}
2025-10-28 22:30:22,782 - smc_engine.optimize.optimizer - INFO - Best score: -10000000000.0000
2025-10-28 22:30:22,786 - smc_engine.orchestrator - INFO - Persisting optimization run to DB...
2025-10-28 22:30:22,899 - smc_engine.orchestrator - INFO - Optimization run persisted successfully: id=16055554-c859-4f31-98c7-7c8f6fff1f1f
2025-10-28 22:30:22,902 - __main__ - INFO - Optimization completed. Run ID: None
2025-10-28 22:30:22,903 - __main__ - INFO - Best net_profit: 0.0000
2025-10-28 22:30:22,904 - __main__ - INFO - Best parameters:
2025-10-28 22:30:22,905 - __main__ - INFO -   swing_lookback: 10
2025-10-28 22:30:22,905 - __main__ - INFO -   bos_atr_margin: 0.9655000144869412
2025-10-28 22:30:22,906 - __main__ - INFO -   ob_min_impulse_bars: 4
2025-10-28 22:30:22,906 - __main__ - INFO -   ob_min_impulse_atr: 1.897987726295555
2025-10-28 22:30:22,907 - __main__ - INFO -   fvg_min_gap_atr: 0.2624074561769746
2025-10-28 22:30:22,907 - __main__ - INFO -   liquidity_grab_atr: 0.6559945203362026
2025-10-28 22:30:22,908 - __main__ - INFO -   risk_per_trade: 0.01116167224336399
2025-10-28 22:30:22,908 - __main__ - INFO -   risk_reward_ratio: 2.799264218662403
2025-10-28 22:30:22,908 - __main__ - INFO -   atr_period: 16
2025-10-28 22:30:22,909 - __main__ - INFO -   atr_sl_multiplier: 2.0621088666940683
2025-10-28 22:30:22,909 - __main__ - INFO - No trial data available.
2025-10-28 23:03:54,364 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 23:03:54,382 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 23:03:54,383 - __main__ - INFO - Starting backtest...
2025-10-28 23:03:54,385 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD H1
2025-10-28 23:03:54,601 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 23:03:54,601 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 23:03:54,612 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 16385, start: 2020-01-01 00:00:00, end: 2022-12-31 00:00:00)
2025-10-28 23:03:54,666 - smc_engine.data.mt5_manager - INFO - Retrieved 9602 bars for EURUSD H1
2025-10-28 23:03:54,667 - smc_engine.orchestrator - INFO - Loaded 9602 bars
2025-10-28 23:03:54,667 - smc_engine.backtest.backtester - INFO - Starting backtest on 9602 bars
2025-10-28 23:03:54,667 - smc_engine.backtest.backtester - INFO - Initial balance: $10,000.00
2025-10-28 23:04:00,457 - smc_engine.backtest.backtester - INFO - Generated 13618 signals
2025-10-28 23:04:07,588 - smc_engine.backtest.backtester - INFO - Backtest complete: 257 trades
2025-10-28 23:04:07,588 - smc_engine.backtest.backtester - INFO - Final equity: $9,820.77
2025-10-28 23:04:07,589 - smc_engine.backtest.backtester - INFO - Net profit: $-179.23
2025-10-28 23:04:07,663 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-28 23:04:07,779 - smc_engine.orchestrator - INFO - Backtest persisted: id=c6f47f01-a590-4f39-bcaf-0c617401968d, trades=257
2025-10-28 23:04:07,779 - __main__ - WARNING - No metrics found in result.
2025-10-28 23:04:07,780 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-28 23:04:41,800 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 23:04:41,807 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 23:04:41,808 - __main__ - INFO - Starting backtest...
2025-10-28 23:04:41,809 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD M15
2025-10-28 23:04:41,828 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 23:04:41,828 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 23:04:41,836 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 15, start: 2020-01-01 00:00:00, end: 2022-12-31 00:00:00)
2025-10-28 23:04:41,870 - smc_engine.data.mt5_manager - INFO - Retrieved 36916 bars for EURUSD M15
2025-10-28 23:04:41,872 - smc_engine.orchestrator - INFO - Loaded 36916 bars
2025-10-28 23:04:41,873 - smc_engine.backtest.backtester - INFO - Starting backtest on 36916 bars
2025-10-28 23:04:41,873 - smc_engine.backtest.backtester - INFO - Initial balance: $10,000.00
2025-10-28 23:05:26,823 - smc_engine.backtest.backtester - INFO - Generated 62013 signals
2025-10-28 23:06:05,737 - smc_engine.backtest.backtester - INFO - Backtest complete: 748 trades
2025-10-28 23:06:05,737 - smc_engine.backtest.backtester - INFO - Final equity: $9,706.19
2025-10-28 23:06:05,737 - smc_engine.backtest.backtester - INFO - Net profit: $-293.81
2025-10-28 23:06:05,944 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-28 23:06:06,177 - smc_engine.orchestrator - INFO - Backtest persisted: id=2e255a62-7e00-4f2b-a0e7-0643dc00bfa3, trades=748
2025-10-28 23:06:06,178 - __main__ - WARNING - No metrics found in result.
2025-10-28 23:06:06,179 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-28 23:06:48,763 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 23:06:48,770 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 23:06:48,770 - __main__ - INFO - Starting backtest...
2025-10-28 23:06:48,771 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD H1
2025-10-28 23:06:48,790 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 23:06:48,790 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 23:06:48,799 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 16385, start: 2020-01-01 00:00:00, end: 2022-12-31 00:00:00)
2025-10-28 23:06:48,821 - smc_engine.data.mt5_manager - INFO - Retrieved 9602 bars for EURUSD H1
2025-10-28 23:06:48,821 - smc_engine.orchestrator - INFO - Loaded 9602 bars
2025-10-28 23:06:48,821 - smc_engine.backtest.backtester - INFO - Starting backtest on 9602 bars
2025-10-28 23:06:48,822 - smc_engine.backtest.backtester - INFO - Initial balance: $10,000.00
2025-10-28 23:06:54,495 - smc_engine.backtest.backtester - INFO - Generated 13618 signals
2025-10-28 23:07:01,784 - smc_engine.backtest.backtester - INFO - Backtest complete: 136 trades
2025-10-28 23:07:01,784 - smc_engine.backtest.backtester - INFO - Final equity: $9,887.21
2025-10-28 23:07:01,785 - smc_engine.backtest.backtester - INFO - Net profit: $-112.79
2025-10-28 23:07:01,848 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-28 23:07:01,952 - smc_engine.orchestrator - INFO - Backtest persisted: id=b5d25277-88c2-4d8e-9373-30d4a64027c3, trades=136
2025-10-28 23:07:01,953 - __main__ - WARNING - No metrics found in result.
2025-10-28 23:07:01,953 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-28 23:07:44,890 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 23:07:44,897 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 23:07:44,898 - __main__ - INFO - Starting backtest...
2025-10-28 23:07:44,899 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD H1
2025-10-28 23:07:44,918 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 23:07:44,918 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 23:07:44,929 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 16385, start: 2020-01-01 00:00:00, end: 2022-12-31 00:00:00)
2025-10-28 23:07:44,939 - smc_engine.data.mt5_manager - INFO - Retrieved 9602 bars for EURUSD H1
2025-10-28 23:07:44,940 - smc_engine.orchestrator - INFO - Loaded 9602 bars
2025-10-28 23:07:44,940 - smc_engine.backtest.backtester - INFO - Starting backtest on 9602 bars
2025-10-28 23:07:44,941 - smc_engine.backtest.backtester - INFO - Initial balance: $100.00
2025-10-28 23:07:50,860 - smc_engine.backtest.backtester - INFO - Generated 13618 signals
2025-10-28 23:07:58,519 - smc_engine.backtest.backtester - INFO - Backtest complete: 136 trades
2025-10-28 23:07:58,519 - smc_engine.backtest.backtester - INFO - Final equity: $-12.79
2025-10-28 23:07:58,520 - smc_engine.backtest.backtester - INFO - Net profit: $-112.79
2025-10-28 23:07:58,585 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-28 23:07:58,701 - smc_engine.orchestrator - INFO - Backtest persisted: id=34930fd0-eb8e-408c-94ad-b5b39e5c05e0, trades=136
2025-10-28 23:07:58,701 - __main__ - WARNING - No metrics found in result.
2025-10-28 23:07:58,702 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-28 23:08:39,120 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 23:08:39,127 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 23:08:39,128 - __main__ - INFO - Starting backtest...
2025-10-28 23:08:39,128 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD M15
2025-10-28 23:08:39,147 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 23:08:39,147 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 23:08:39,157 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 15, start: 2020-01-01 00:00:00, end: 2022-12-31 00:00:00)
2025-10-28 23:08:39,177 - smc_engine.data.mt5_manager - INFO - Retrieved 36916 bars for EURUSD M15
2025-10-28 23:08:39,178 - smc_engine.orchestrator - INFO - Loaded 36916 bars
2025-10-28 23:08:39,178 - smc_engine.backtest.backtester - INFO - Starting backtest on 36916 bars
2025-10-28 23:08:39,179 - smc_engine.backtest.backtester - INFO - Initial balance: $1,000.00
2025-10-28 23:09:09,402 - smc_engine.backtest.backtester - INFO - Generated 62013 signals
2025-10-28 23:09:48,137 - smc_engine.backtest.backtester - INFO - Backtest complete: 341 trades
2025-10-28 23:09:48,137 - smc_engine.backtest.backtester - INFO - Final equity: $813.52
2025-10-28 23:09:48,138 - smc_engine.backtest.backtester - INFO - Net profit: $-186.48
2025-10-28 23:09:48,304 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-28 23:09:48,458 - smc_engine.orchestrator - INFO - Backtest persisted: id=fabc61f8-b98c-488d-b71a-90f79f49463a, trades=341
2025-10-28 23:09:48,459 - __main__ - WARNING - No metrics found in result.
2025-10-28 23:09:48,460 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-28 23:11:25,637 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 23:11:25,646 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 23:11:25,646 - __main__ - INFO - Starting backtest...
2025-10-28 23:11:25,647 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD M15
2025-10-28 23:11:25,670 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 23:11:25,671 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 23:11:25,686 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 15, start: 2023-01-01 00:00:00, end: 2023-12-31 00:00:00)
2025-10-28 23:11:25,714 - smc_engine.data.mt5_manager - INFO - Retrieved 24864 bars for EURUSD M15
2025-10-28 23:11:25,715 - smc_engine.orchestrator - INFO - Loaded 24864 bars
2025-10-28 23:11:25,716 - smc_engine.backtest.backtester - INFO - Starting backtest on 24864 bars
2025-10-28 23:11:25,716 - smc_engine.backtest.backtester - INFO - Initial balance: $1,000.00
2025-10-28 23:11:40,922 - smc_engine.backtest.backtester - INFO - Generated 43484 signals
2025-10-28 23:12:05,059 - smc_engine.backtest.backtester - INFO - Backtest complete: 309 trades
2025-10-28 23:12:05,060 - smc_engine.backtest.backtester - INFO - Final equity: $891.79
2025-10-28 23:12:05,060 - smc_engine.backtest.backtester - INFO - Net profit: $-108.21
2025-10-28 23:12:05,222 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-28 23:12:05,420 - smc_engine.orchestrator - INFO - Backtest persisted: id=0d275b58-a176-416d-a804-9270b9368d79, trades=309
2025-10-28 23:12:05,421 - __main__ - WARNING - No metrics found in result.
2025-10-28 23:12:05,422 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-28 23:13:14,915 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 23:13:14,921 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 23:13:14,921 - __main__ - INFO - Starting backtest...
2025-10-28 23:13:14,922 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD M15
2025-10-28 23:13:14,940 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 23:13:14,941 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 23:13:14,950 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 15, start: 2024-01-01 00:00:00, end: 2024-12-31 00:00:00)
2025-10-28 23:13:14,964 - smc_engine.data.mt5_manager - INFO - Retrieved 24864 bars for EURUSD M15
2025-10-28 23:13:14,965 - smc_engine.orchestrator - INFO - Loaded 24864 bars
2025-10-28 23:13:14,966 - smc_engine.backtest.backtester - INFO - Starting backtest on 24864 bars
2025-10-28 23:13:14,966 - smc_engine.backtest.backtester - INFO - Initial balance: $1,000.00
2025-10-28 23:13:31,527 - smc_engine.backtest.backtester - INFO - Generated 41794 signals
2025-10-28 23:13:53,478 - smc_engine.backtest.backtester - INFO - Backtest complete: 228 trades
2025-10-28 23:13:53,478 - smc_engine.backtest.backtester - INFO - Final equity: $1,024.31
2025-10-28 23:13:53,479 - smc_engine.backtest.backtester - INFO - Net profit: $24.31
2025-10-28 23:13:53,590 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-28 23:13:53,735 - smc_engine.orchestrator - INFO - Backtest persisted: id=6ad0c0b7-f483-44c6-abc8-0120ac28d7e4, trades=228
2025-10-28 23:13:53,736 - __main__ - WARNING - No metrics found in result.
2025-10-28 23:13:53,736 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-28 23:15:33,330 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 23:15:33,337 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 23:15:33,338 - __main__ - INFO - Starting backtest...
2025-10-28 23:15:33,339 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD M15
2025-10-28 23:15:33,357 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 23:15:33,357 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 23:15:33,366 - __main__ - ERROR - Error executing backtest: day is out of range for month
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 180, in get_historical
    end = datetime.fromisoformat(end)
ValueError: day is out of range for month

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 251, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 262, in run_backtest
    ohlc = self.market_data.get_data(
        symbol=symbol,
    ...<3 lines>...
        csv_path=csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 70, in get_data
    return self.mt5_manager.get_historical(symbol, timeframe, start, end)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 182, in get_historical
    end = datetime.strptime(end, "%Y-%m-%d")
  File "C:\Python313\Lib\_strptime.py", line 673, in _strptime_datetime
    tt, fraction, gmtoff_fraction = _strptime(data_string, format)
                                    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\_strptime.py", line 639, in _strptime
    julian = datetime_date(year, month, day).toordinal() - \
             ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
ValueError: day is out of range for month
2025-10-28 23:16:38,687 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 23:16:38,693 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 23:16:38,694 - __main__ - INFO - Starting backtest...
2025-10-28 23:16:38,695 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD M15
2025-10-28 23:16:38,715 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 23:16:38,715 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 23:16:38,725 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 15, start: 2024-01-01 00:00:00, end: 2024-01-31 00:00:00)
2025-10-28 23:16:38,731 - smc_engine.data.mt5_manager - INFO - Retrieved 2021 bars for EURUSD M15
2025-10-28 23:16:38,732 - smc_engine.orchestrator - INFO - Loaded 2021 bars
2025-10-28 23:16:38,732 - smc_engine.backtest.backtester - INFO - Starting backtest on 2021 bars
2025-10-28 23:16:38,733 - smc_engine.backtest.backtester - INFO - Initial balance: $1,000.00
2025-10-28 23:16:39,966 - smc_engine.backtest.backtester - INFO - Generated 4340 signals
2025-10-28 23:16:41,349 - smc_engine.backtest.backtester - INFO - Backtest complete: 61 trades
2025-10-28 23:16:41,349 - smc_engine.backtest.backtester - INFO - Final equity: $966.80
2025-10-28 23:16:41,350 - smc_engine.backtest.backtester - INFO - Net profit: $-33.20
2025-10-28 23:16:41,377 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-28 23:16:41,495 - smc_engine.orchestrator - INFO - Backtest persisted: id=9a9b48b0-fa1d-4658-a39b-e56e86e79fe4, trades=61
2025-10-28 23:16:41,497 - __main__ - WARNING - No metrics found in result.
2025-10-28 23:16:41,497 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-28 23:17:35,630 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 23:17:35,637 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 23:17:35,637 - __main__ - INFO - Starting backtest...
2025-10-28 23:17:35,638 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD M15
2025-10-28 23:17:35,655 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 23:17:35,656 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 23:17:35,666 - __main__ - ERROR - Error executing backtest: day is out of range for month
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 180, in get_historical
    end = datetime.fromisoformat(end)
ValueError: day is out of range for month

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 251, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 262, in run_backtest
    ohlc = self.market_data.get_data(
        symbol=symbol,
    ...<3 lines>...
        csv_path=csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 70, in get_data
    return self.mt5_manager.get_historical(symbol, timeframe, start, end)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 182, in get_historical
    end = datetime.strptime(end, "%Y-%m-%d")
  File "C:\Python313\Lib\_strptime.py", line 673, in _strptime_datetime
    tt, fraction, gmtoff_fraction = _strptime(data_string, format)
                                    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\_strptime.py", line 639, in _strptime
    julian = datetime_date(year, month, day).toordinal() - \
             ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
ValueError: day is out of range for month
2025-10-28 23:18:31,219 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 23:18:31,224 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 23:18:31,225 - __main__ - INFO - Starting backtest...
2025-10-28 23:18:31,225 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD M15
2025-10-28 23:18:31,242 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 23:18:31,242 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 23:18:31,254 - __main__ - ERROR - Error executing backtest: day is out of range for month
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 180, in get_historical
    end = datetime.fromisoformat(end)
ValueError: day is out of range for month

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 251, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 262, in run_backtest
    ohlc = self.market_data.get_data(
        symbol=symbol,
    ...<3 lines>...
        csv_path=csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 70, in get_data
    return self.mt5_manager.get_historical(symbol, timeframe, start, end)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 182, in get_historical
    end = datetime.strptime(end, "%Y-%m-%d")
  File "C:\Python313\Lib\_strptime.py", line 673, in _strptime_datetime
    tt, fraction, gmtoff_fraction = _strptime(data_string, format)
                                    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\_strptime.py", line 639, in _strptime
    julian = datetime_date(year, month, day).toordinal() - \
             ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
ValueError: day is out of range for month
2025-10-28 23:19:17,511 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 23:19:17,517 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 23:19:17,518 - __main__ - INFO - Starting backtest...
2025-10-28 23:19:17,519 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD M15
2025-10-28 23:19:17,537 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 23:19:17,537 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 23:19:17,548 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 15, start: 2024-02-01 00:00:00, end: 2024-03-31 00:00:00)
2025-10-28 23:19:17,553 - smc_engine.data.mt5_manager - INFO - Retrieved 4028 bars for EURUSD M15
2025-10-28 23:19:17,554 - smc_engine.orchestrator - INFO - Loaded 4028 bars
2025-10-28 23:19:17,554 - smc_engine.backtest.backtester - INFO - Starting backtest on 4028 bars
2025-10-28 23:19:17,554 - smc_engine.backtest.backtester - INFO - Initial balance: $1,000.00
2025-10-28 23:19:20,057 - smc_engine.backtest.backtester - INFO - Generated 10650 signals
2025-10-28 23:19:22,959 - smc_engine.backtest.backtester - INFO - Backtest complete: 71 trades
2025-10-28 23:19:22,960 - smc_engine.backtest.backtester - INFO - Final equity: $955.09
2025-10-28 23:19:22,960 - smc_engine.backtest.backtester - INFO - Net profit: $-44.91
2025-10-28 23:19:23,013 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-28 23:19:23,120 - smc_engine.orchestrator - INFO - Backtest persisted: id=984a4e2f-0fea-4461-a771-9689c077a5d9, trades=71
2025-10-28 23:19:23,121 - __main__ - WARNING - No metrics found in result.
2025-10-28 23:19:23,122 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-28 23:35:20,471 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 23:35:20,479 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 23:35:20,479 - __main__ - INFO - Starting backtest...
2025-10-28 23:35:20,480 - smc_engine.orchestrator - INFO - Running backtest: smc on GBPJPY M15
2025-10-28 23:35:20,497 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 23:35:20,497 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 23:35:20,505 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: GBPJPYm, timeframe: 15, start: 2024-01-01 00:00:00, end: 2024-12-31 00:00:00)
2025-10-28 23:35:20,539 - smc_engine.data.mt5_manager - INFO - Retrieved 24861 bars for GBPJPY M15
2025-10-28 23:35:20,539 - smc_engine.orchestrator - INFO - Loaded 24861 bars
2025-10-28 23:35:20,540 - smc_engine.backtest.backtester - INFO - Starting backtest on 24861 bars
2025-10-28 23:35:20,540 - smc_engine.backtest.backtester - INFO - Initial balance: $1,000.00
2025-10-28 23:35:37,593 - smc_engine.backtest.backtester - INFO - Generated 38711 signals
2025-10-28 23:35:59,619 - smc_engine.backtest.backtester - INFO - Backtest complete: 478 trades
2025-10-28 23:35:59,620 - smc_engine.backtest.backtester - INFO - Final equity: $-14,211.38
2025-10-28 23:35:59,621 - smc_engine.backtest.backtester - INFO - Net profit: $-15,211.38
2025-10-28 23:35:59,777 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-28 23:35:59,962 - smc_engine.orchestrator - INFO - Backtest persisted: id=63aceac4-15ec-4882-a01d-f0ae2d95c92f, trades=478
2025-10-28 23:35:59,963 - __main__ - WARNING - No metrics found in result.
2025-10-28 23:35:59,964 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-28 23:36:45,969 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 23:36:45,977 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 23:36:45,977 - __main__ - INFO - Starting backtest...
2025-10-28 23:36:45,978 - smc_engine.orchestrator - INFO - Running backtest: smc on XAUUSD M15
2025-10-28 23:36:45,994 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 23:36:45,995 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 23:36:46,004 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: XAUUSDm, timeframe: 15, start: 2024-01-01 00:00:00, end: 2024-12-31 00:00:00)
2025-10-28 23:36:46,190 - smc_engine.data.mt5_manager - INFO - Retrieved 23610 bars for XAUUSD M15
2025-10-28 23:36:46,190 - smc_engine.orchestrator - INFO - Loaded 23610 bars
2025-10-28 23:36:46,191 - smc_engine.backtest.backtester - INFO - Starting backtest on 23610 bars
2025-10-28 23:36:46,191 - smc_engine.backtest.backtester - INFO - Initial balance: $1,000.00
2025-10-28 23:37:04,290 - smc_engine.backtest.backtester - INFO - Generated 35269 signals
2025-10-28 23:37:34,582 - smc_engine.backtest.backtester - INFO - Backtest complete: 370 trades
2025-10-28 23:37:34,582 - smc_engine.backtest.backtester - INFO - Final equity: $-439,217.37
2025-10-28 23:37:34,583 - smc_engine.backtest.backtester - INFO - Net profit: $-440,217.37
2025-10-28 23:37:34,722 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-28 23:37:34,906 - smc_engine.orchestrator - INFO - Backtest persisted: id=9954b6ef-e309-4c38-a0d7-45661f974577, trades=370
2025-10-28 23:37:34,907 - __main__ - WARNING - No metrics found in result.
2025-10-28 23:37:34,907 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-28 23:55:16,048 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 23:55:16,058 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 23:55:16,058 - __main__ - INFO - Starting backtest...
2025-10-28 23:55:16,059 - smc_engine.orchestrator - INFO - Running backtest: smc on XAUUSD M15
2025-10-28 23:55:16,077 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 23:55:16,078 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 23:55:16,087 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: XAUUSDm, timeframe: 15, start: 2024-01-01 00:00:00, end: 2024-12-31 00:00:00)
2025-10-28 23:55:16,132 - smc_engine.data.mt5_manager - INFO - Retrieved 23610 bars for XAUUSD M15
2025-10-28 23:55:16,133 - smc_engine.orchestrator - INFO - Loaded 23610 bars
2025-10-28 23:55:16,133 - smc_engine.backtest.backtester - INFO - Starting backtest on 23610 bars
2025-10-28 23:55:16,134 - smc_engine.backtest.backtester - INFO - Initial balance: $1,000.00
2025-10-28 23:55:16,170 - __main__ - ERROR - Error executing backtest: unsupported operand type(s) for -: 'int' and 'Timestamp'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 251, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 280, in run_backtest
    result = backtester.run(ohlc)
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\backtest\backtester.py", line 109, in run
    signals = self.strategy.generate_signals(ohlc)
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\core\strategy.py", line 117, in generate_signals
    find_order_blocks(ohlc, self.params)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\core\smc_primitives.py", line 244, in find_order_blocks
    if ob_idx and i - ob_idx <= max_age:
                  ~~^~~~~~~~
TypeError: unsupported operand type(s) for -: 'int' and 'Timestamp'
2025-10-28 23:58:27,587 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-28 23:58:27,592 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-28 23:58:27,592 - __main__ - INFO - Starting backtest...
2025-10-28 23:58:27,593 - smc_engine.orchestrator - INFO - Running backtest: smc on XAUUSD M15
2025-10-28 23:58:27,611 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-28 23:58:27,612 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-28 23:58:27,622 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: XAUUSDm, timeframe: 15, start: 2024-01-01 00:00:00, end: 2024-12-31 00:00:00)
2025-10-28 23:58:27,636 - smc_engine.data.mt5_manager - INFO - Retrieved 23610 bars for XAUUSD M15
2025-10-28 23:58:27,637 - smc_engine.orchestrator - INFO - Loaded 23610 bars
2025-10-28 23:58:27,638 - smc_engine.backtest.backtester - INFO - Starting backtest on 23610 bars
2025-10-28 23:58:27,639 - smc_engine.backtest.backtester - INFO - Initial balance: $1,000.00
2025-10-28 23:58:36,060 - __main__ - ERROR - Error executing backtest: 'list' object has no attribute 'trend'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 251, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 280, in run_backtest
    result = backtester.run(ohlc)
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\backtest\backtester.py", line 109, in run
    signals = self.strategy.generate_signals(ohlc)
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\core\strategy.py", line 161, in generate_signals
    choch = detect_choch(df_slice, ms.swings)
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\core\smc_primitives.py", line 189, in detect_choch
    if ms.trend == TrendDirection.RANGING:
       ^^^^^^^^
AttributeError: 'list' object has no attribute 'trend'
2025-10-29 00:04:45,317 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-29 00:04:45,323 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-29 00:04:45,323 - __main__ - INFO - Starting backtest...
2025-10-29 00:04:45,324 - smc_engine.orchestrator - INFO - Running backtest: smc on XAUUSD M15
2025-10-29 00:04:45,342 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-29 00:04:45,343 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-29 00:04:45,351 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: XAUUSDm, timeframe: 15, start: 2024-01-01 00:00:00, end: 2024-12-31 00:00:00)
2025-10-29 00:04:45,365 - smc_engine.data.mt5_manager - INFO - Retrieved 23610 bars for XAUUSD M15
2025-10-29 00:04:45,366 - smc_engine.orchestrator - INFO - Loaded 23610 bars
2025-10-29 00:04:45,366 - smc_engine.backtest.backtester - INFO - Starting backtest on 23610 bars
2025-10-29 00:04:45,366 - smc_engine.backtest.backtester - INFO - Initial balance: $1,000.00
2025-10-29 00:04:53,927 - __main__ - ERROR - Error executing backtest: 'dict' object has no attribute 'end_idx'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 251, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 280, in run_backtest
    result = backtester.run(ohlc)
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\backtest\backtester.py", line 109, in run
    signals = self.strategy.generate_signals(ohlc)
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\core\strategy.py", line 164, in generate_signals
    recent_grab = next(
                  ~~~~^
        (g for g in liquidity_grabs if g.end_idx == i), None
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ) if liquidity_grabs else None
    ^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\core\strategy.py", line 165, in <genexpr>
    (g for g in liquidity_grabs if g.end_idx == i), None
                                   ^^^^^^^^^
AttributeError: 'dict' object has no attribute 'end_idx'
2025-10-29 00:07:36,725 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-29 00:07:36,730 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-29 00:07:36,731 - __main__ - INFO - Starting backtest...
2025-10-29 00:07:36,732 - smc_engine.orchestrator - INFO - Running backtest: smc on XAUUSD M15
2025-10-29 00:07:36,750 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-29 00:07:36,750 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-29 00:07:36,761 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: XAUUSDm, timeframe: 15, start: 2024-01-01 00:00:00, end: 2024-12-31 00:00:00)
2025-10-29 00:07:36,777 - smc_engine.data.mt5_manager - INFO - Retrieved 23610 bars for XAUUSD M15
2025-10-29 00:07:36,778 - smc_engine.orchestrator - INFO - Loaded 23610 bars
2025-10-29 00:07:36,778 - smc_engine.backtest.backtester - INFO - Starting backtest on 23610 bars
2025-10-29 00:07:36,779 - smc_engine.backtest.backtester - INFO - Initial balance: $1,000.00
2025-10-29 00:15:00,096 - smc_engine.backtest.backtester - INFO - Generated 469 signals
2025-10-29 00:15:17,228 - smc_engine.backtest.backtester - INFO - Backtest complete: 133 trades
2025-10-29 00:15:17,228 - smc_engine.backtest.backtester - INFO - Final equity: $628,200.19
2025-10-29 00:15:17,229 - smc_engine.backtest.backtester - INFO - Net profit: $627,200.19
2025-10-29 00:15:17,315 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-29 00:15:17,444 - smc_engine.orchestrator - INFO - Backtest persisted: id=f474eb2b-0d9d-496d-aa6a-7a2baf570c30, trades=133
2025-10-29 00:15:17,446 - __main__ - WARNING - No metrics found in result.
2025-10-29 00:15:17,447 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-29 18:08:45,433 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-29 18:08:45,456 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-29 18:08:45,456 - __main__ - INFO - Starting backtest...
2025-10-29 18:08:45,458 - smc_engine.orchestrator - INFO - Running backtest: smc on XAUUSD M15
2025-10-29 18:08:45,475 - smc_engine.data.mt5_manager - ERROR - MT5 connection error: MT5 initialization failed: (-6, 'Terminal: Authorization failed')
2025-10-29 18:08:45,476 - __main__ - ERROR - Error executing backtest: Not connected to MT5
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 251, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 262, in run_backtest
    ohlc = self.market_data.get_data(
        symbol=symbol,
    ...<3 lines>...
        csv_path=csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 70, in get_data
    return self.mt5_manager.get_historical(symbol, timeframe, start, end)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 151, in get_historical
    raise RuntimeError("Not connected to MT5")
RuntimeError: Not connected to MT5
2025-10-29 18:09:46,285 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-29 18:09:46,315 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-29 18:09:46,333 - __main__ - INFO - Starting backtest...
2025-10-29 18:09:46,348 - smc_engine.orchestrator - INFO - Running backtest: smc on XAUUSD M15
2025-10-29 18:09:46,399 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-29 18:09:46,408 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-29 18:09:46,430 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: XAUUSDm, timeframe: 15, start: 2024-01-01 00:00:00, end: 2024-12-31 00:00:00)
2025-10-29 18:09:46,596 - smc_engine.data.mt5_manager - INFO - Retrieved 23610 bars for XAUUSD M15
2025-10-29 18:09:46,601 - smc_engine.orchestrator - INFO - Loaded 23610 bars
2025-10-29 18:09:46,611 - smc_engine.backtest.backtester - INFO - Starting backtest on 23610 bars
2025-10-29 18:09:46,613 - smc_engine.backtest.backtester - INFO - Initial balance: $1,000.00
2025-10-29 18:19:29,438 - smc_engine.backtest.backtester - INFO - Generated 469 signals
2025-10-29 18:19:46,487 - smc_engine.backtest.backtester - INFO - Backtest complete: 200 trades
2025-10-29 18:19:46,488 - smc_engine.backtest.backtester - INFO - Final equity: $837,490.20
2025-10-29 18:19:46,488 - smc_engine.backtest.backtester - INFO - Net profit: $836,490.20
2025-10-29 18:19:46,578 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-29 18:19:46,751 - smc_engine.orchestrator - INFO - Backtest persisted: id=bdbc80b7-172f-4db7-9b5d-7c32e3c29532, trades=200
2025-10-29 18:19:46,752 - __main__ - WARNING - No metrics found in result.
2025-10-29 18:19:46,752 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-29 18:21:30,948 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-29 18:21:30,964 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-29 18:21:30,965 - __main__ - INFO - Starting backtest...
2025-10-29 18:21:30,991 - smc_engine.orchestrator - INFO - Running backtest: smc on XAUUSD M15
2025-10-29 18:21:31,250 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-29 18:21:31,251 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-29 18:21:31,267 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: XAUUSDm, timeframe: 15, start: 2024-01-01 00:00:00, end: 2024-01-31 00:00:00)
2025-10-29 18:21:31,334 - smc_engine.data.mt5_manager - INFO - Retrieved 1922 bars for XAUUSD M15
2025-10-29 18:21:31,334 - smc_engine.orchestrator - INFO - Loaded 1922 bars
2025-10-29 18:21:31,335 - smc_engine.backtest.backtester - INFO - Starting backtest on 1922 bars
2025-10-29 18:21:31,336 - smc_engine.backtest.backtester - INFO - Initial balance: $1,000.00
2025-10-29 18:21:43,704 - smc_engine.backtest.backtester - INFO - Generated 32 signals
2025-10-29 18:21:45,162 - smc_engine.backtest.backtester - INFO - Backtest complete: 14 trades
2025-10-29 18:21:45,162 - smc_engine.backtest.backtester - INFO - Final equity: $62,968.49
2025-10-29 18:21:45,163 - smc_engine.backtest.backtester - INFO - Net profit: $61,968.49
2025-10-29 18:21:45,188 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-29 18:21:45,289 - smc_engine.orchestrator - INFO - Backtest persisted: id=2dbfe083-d50e-4d11-9c83-5df600c06d8b, trades=14
2025-10-29 18:21:45,290 - __main__ - WARNING - No metrics found in result.
2025-10-29 18:21:45,290 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-29 18:30:13,706 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-29 18:30:13,727 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-29 18:30:13,727 - __main__ - INFO - Starting backtest...
2025-10-29 18:30:13,730 - smc_engine.orchestrator - INFO - Running backtest: smc on XAUUSD M15
2025-10-29 18:30:13,750 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-29 18:30:13,750 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-29 18:30:13,761 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: XAUUSDm, timeframe: 15, start: 2024-01-01 00:00:00, end: 2024-01-31 00:00:00)
2025-10-29 18:30:13,790 - smc_engine.data.mt5_manager - INFO - Retrieved 1922 bars for XAUUSD M15
2025-10-29 18:30:13,790 - smc_engine.orchestrator - INFO - Loaded 1922 bars
2025-10-29 18:30:13,791 - smc_engine.backtest.backtester - INFO - Starting backtest on 1922 bars
2025-10-29 18:30:13,791 - smc_engine.backtest.backtester - INFO - Initial balance: $100.00
2025-10-29 18:30:21,097 - smc_engine.backtest.backtester - INFO - Generated 32 signals
2025-10-29 18:30:22,304 - smc_engine.backtest.backtester - INFO - Backtest complete: 14 trades
2025-10-29 18:30:22,304 - smc_engine.backtest.backtester - INFO - Final equity: $62,068.49
2025-10-29 18:30:22,305 - smc_engine.backtest.backtester - INFO - Net profit: $61,968.49
2025-10-29 18:30:22,328 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-29 18:30:22,415 - smc_engine.orchestrator - INFO - Backtest persisted: id=2ba72fa5-e488-47ad-93f0-b6adb1037e56, trades=14
2025-10-29 18:30:22,415 - __main__ - WARNING - No metrics found in result.
2025-10-29 18:30:22,416 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-29 19:26:58,297 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-29 19:26:58,321 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-29 19:26:58,322 - __main__ - INFO - Starting backtest...
2025-10-29 19:26:58,327 - smc_engine.orchestrator - INFO - Running backtest: smc on XAUUSD M15
2025-10-29 19:26:58,503 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-29 19:26:58,504 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-29 19:26:58,518 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: XAUUSDm, timeframe: 15, start: 2024-01-01 00:00:00, end: 2024-01-31 00:00:00)
2025-10-29 19:26:58,686 - smc_engine.data.mt5_manager - INFO - Retrieved 1922 bars for XAUUSD M15
2025-10-29 19:26:58,686 - smc_engine.orchestrator - INFO - Loaded 1922 bars
2025-10-29 19:26:58,687 - smc_engine.backtest.backtester - INFO - Starting backtest on 1922 bars
2025-10-29 19:26:58,688 - smc_engine.backtest.backtester - INFO - Initial balance: $1,000.00
2025-10-29 19:27:09,204 - smc_engine.backtest.backtester - INFO - Generated 32 signals
2025-10-29 19:27:09,245 - __main__ - ERROR - Error executing backtest: OrderSimulator.calculate_commission() missing 1 required positional argument: 'size'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 251, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 280, in run_backtest
    result = backtester.run(ohlc)
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\backtest\backtester.py", line 143, in run
    self._enter_position(row, bar, ts)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\backtest\backtester.py", line 227, in _enter_position
    commission_cost = self.simulator.calculate_commission(size)
TypeError: OrderSimulator.calculate_commission() missing 1 required positional argument: 'size'
2025-10-29 19:29:40,340 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-29 19:29:40,347 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-29 19:29:40,348 - __main__ - INFO - Starting backtest...
2025-10-29 19:29:40,349 - smc_engine.orchestrator - INFO - Running backtest: smc on XAUUSD M15
2025-10-29 19:29:40,379 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-29 19:29:40,380 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-29 19:29:40,391 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: XAUUSDm, timeframe: 15, start: 2024-01-01 00:00:00, end: 2024-01-31 00:00:00)
2025-10-29 19:29:40,400 - smc_engine.data.mt5_manager - INFO - Retrieved 1922 bars for XAUUSD M15
2025-10-29 19:29:40,400 - smc_engine.orchestrator - INFO - Loaded 1922 bars
2025-10-29 19:29:40,401 - smc_engine.backtest.backtester - INFO - Starting backtest on 1922 bars
2025-10-29 19:29:40,401 - smc_engine.backtest.backtester - INFO - Initial balance: $1,000.00
2025-10-29 19:29:47,638 - smc_engine.backtest.backtester - INFO - Generated 32 signals
2025-10-29 19:29:47,676 - __main__ - ERROR - Error executing backtest: OrderSimulator.calculate_commission() missing 1 required positional argument: 'size'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 251, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 280, in run_backtest
    result = backtester.run(ohlc)
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\backtest\backtester.py", line 134, in run
    self._check_exits(bar, ts)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\backtest\backtester.py", line 344, in _check_exits
    self._exit_position(pos, bar, ts, 'take_profit')
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\backtest\backtester.py", line 284, in _exit_position
    exit_commission = self.simulator.calculate_commission(size)
TypeError: OrderSimulator.calculate_commission() missing 1 required positional argument: 'size'
2025-10-29 19:33:07,303 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-29 19:33:07,309 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-29 19:33:07,310 - __main__ - INFO - Starting backtest...
2025-10-29 19:33:07,311 - smc_engine.orchestrator - INFO - Running backtest: smc on XAUUSD M15
2025-10-29 19:33:07,338 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-29 19:33:07,339 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-29 19:33:07,350 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: XAUUSDm, timeframe: 15, start: 2024-01-01 00:00:00, end: 2024-01-31 00:00:00)
2025-10-29 19:33:07,357 - smc_engine.data.mt5_manager - INFO - Retrieved 1922 bars for XAUUSD M15
2025-10-29 19:33:07,357 - smc_engine.orchestrator - INFO - Loaded 1922 bars
2025-10-29 19:33:07,358 - smc_engine.backtest.backtester - INFO - Starting backtest on 1922 bars
2025-10-29 19:33:15,808 - __main__ - ERROR - Error executing backtest: 'Backtester' object has no attribute 'report'
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 251, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 282, in run_backtest
    print(backtester.report())
          ^^^^^^^^^^^^^^^^^
AttributeError: 'Backtester' object has no attribute 'report'
2025-10-29 19:36:09,422 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-29 19:36:09,431 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-29 19:36:09,431 - __main__ - INFO - Starting backtest...
2025-10-29 19:36:09,432 - smc_engine.orchestrator - INFO - Running backtest: smc on XAUUSD M15
2025-10-29 19:36:09,464 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-29 19:36:09,465 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-29 19:36:09,481 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: XAUUSDm, timeframe: 15, start: 2024-01-01 00:00:00, end: 2024-01-31 00:00:00)
2025-10-29 19:36:09,491 - smc_engine.data.mt5_manager - INFO - Retrieved 1922 bars for XAUUSD M15
2025-10-29 19:36:09,492 - smc_engine.orchestrator - INFO - Loaded 1922 bars
2025-10-29 19:36:09,493 - smc_engine.backtest.backtester - INFO - Starting backtest on 1922 bars
2025-10-29 19:36:20,783 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-29 19:36:21,021 - smc_engine.orchestrator - INFO - Backtest persisted: id=77555245-8c3b-4ab6-a002-0d7ca32cb4ce, trades=14
2025-10-29 19:36:21,023 - __main__ - WARNING - No metrics found in result.
2025-10-29 19:36:21,025 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-29 19:42:06,587 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-29 19:42:06,605 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-29 19:42:06,605 - __main__ - INFO - Starting backtest...
2025-10-29 19:42:06,606 - smc_engine.orchestrator - INFO - Running backtest: smc on XAUUSD M15
2025-10-29 19:42:06,624 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-29 19:42:06,625 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-29 19:42:06,635 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: XAUUSDm, timeframe: 15, start: 2024-01-01 00:00:00, end: 2024-01-31 00:00:00)
2025-10-29 19:42:06,641 - smc_engine.data.mt5_manager - INFO - Retrieved 1922 bars for XAUUSD M15
2025-10-29 19:42:06,641 - smc_engine.orchestrator - INFO - Loaded 1922 bars
2025-10-29 19:42:06,641 - smc_engine.backtest.backtester - INFO - Starting backtest on 1922 bars
2025-10-29 19:42:15,185 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-29 19:42:15,287 - smc_engine.orchestrator - INFO - Backtest persisted: id=d33f08b9-1260-45d4-b289-e164cfdbbf4b, trades=14
2025-10-29 19:42:15,289 - __main__ - WARNING - No metrics found in result.
2025-10-29 19:42:15,290 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-10-29 19:44:38,294 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-29 19:44:38,302 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-29 19:44:38,303 - __main__ - INFO - Starting backtest...
2025-10-29 19:44:38,304 - smc_engine.orchestrator - INFO - Running backtest: smc on XAUUSD M15
2025-10-29 19:44:38,322 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-29 19:44:38,322 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-29 19:44:38,333 - __main__ - ERROR - Error executing backtest: day is out of range for month
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 180, in get_historical
    end = datetime.fromisoformat(end)
ValueError: day is out of range for month

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 251, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 262, in run_backtest
    ohlc = self.market_data.get_data(
        symbol=symbol,
    ...<3 lines>...
        csv_path=csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 70, in get_data
    return self.mt5_manager.get_historical(symbol, timeframe, start, end)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 182, in get_historical
    end = datetime.strptime(end, "%Y-%m-%d")
  File "C:\Python313\Lib\_strptime.py", line 673, in _strptime_datetime
    tt, fraction, gmtoff_fraction = _strptime(data_string, format)
                                    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\_strptime.py", line 639, in _strptime
    julian = datetime_date(year, month, day).toordinal() - \
             ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
ValueError: day is out of range for month
2025-10-29 19:45:17,724 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-29 19:45:17,730 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-29 19:45:17,730 - __main__ - INFO - Starting backtest...
2025-10-29 19:45:17,731 - smc_engine.orchestrator - INFO - Running backtest: smc on XAUUSD M15
2025-10-29 19:45:17,753 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-29 19:45:17,753 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-29 19:45:17,766 - __main__ - ERROR - Error executing backtest: day is out of range for month
Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 180, in get_historical
    end = datetime.fromisoformat(end)
ValueError: day is out of range for month

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 251, in main
    cmd_backtest(args)
    ~~~~~~~~~~~~^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\main.py", line 56, in cmd_backtest
    result = orchestrator.run_backtest(
        strategy_name=args.strategy,
    ...<7 lines>...
        csv_path=args.csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\orchestrator.py", line 262, in run_backtest
    ohlc = self.market_data.get_data(
        symbol=symbol,
    ...<3 lines>...
        csv_path=csv_path
    )
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\marketdata.py", line 70, in get_data
    return self.mt5_manager.get_historical(symbol, timeframe, start, end)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ikchr\Music\smc-trading-engine\smc_engine\data\mt5_manager.py", line 182, in get_historical
    end = datetime.strptime(end, "%Y-%m-%d")
  File "C:\Python313\Lib\_strptime.py", line 673, in _strptime_datetime
    tt, fraction, gmtoff_fraction = _strptime(data_string, format)
                                    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\_strptime.py", line 639, in _strptime
    julian = datetime_date(year, month, day).toordinal() - \
             ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
ValueError: day is out of range for month
2025-10-29 19:45:40,145 - smc_engine.db.db - INFO - Initializing database schema...
2025-10-29 19:45:40,151 - smc_engine.db.db - INFO - Database schema created successfully
2025-10-29 19:45:40,151 - __main__ - INFO - Starting backtest...
2025-10-29 19:45:40,152 - smc_engine.orchestrator - INFO - Running backtest: smc on XAUUSD M15
2025-10-29 19:45:40,168 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-10-29 19:45:40,169 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-10-29 19:45:40,178 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: XAUUSDm, timeframe: 15, start: 2024-02-01 00:00:00, end: 2024-02-28 00:00:00)
2025-10-29 19:45:40,184 - smc_engine.data.mt5_manager - INFO - Retrieved 1738 bars for XAUUSD M15
2025-10-29 19:45:40,184 - smc_engine.orchestrator - INFO - Loaded 1738 bars
2025-10-29 19:45:40,185 - smc_engine.backtest.backtester - INFO - Starting backtest on 1738 bars
2025-10-29 19:45:47,335 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-10-29 19:45:47,419 - smc_engine.orchestrator - INFO - Backtest persisted: id=7aead1d0-372d-43ef-a8e0-115b0c94896f, trades=17
2025-10-29 19:45:47,420 - __main__ - WARNING - No metrics found in result.
2025-10-29 19:45:47,421 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-11-01 23:11:18,283 - smc_engine.db.db - INFO - Initializing database schema...
2025-11-01 23:11:18,311 - smc_engine.db.db - INFO - Database schema created successfully
2025-11-01 23:11:18,312 - __main__ - INFO - Starting backtest...
2025-11-01 23:11:18,325 - smc_engine.orchestrator - INFO - Running backtest: smc on EURUSD M15
2025-11-01 23:11:31,528 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-11-01 23:11:31,532 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-11-01 23:11:31,564 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: EURUSDm, timeframe: 15, start: 2025-01-01 00:00:00, end: 2025-01-31 00:00:00)
2025-11-01 23:11:31,781 - smc_engine.data.mt5_manager - INFO - Retrieved 2018 bars for EURUSD M15
2025-11-01 23:11:31,782 - smc_engine.orchestrator - INFO - Loaded 2018 bars
2025-11-01 23:11:31,782 - smc_engine.backtest.backtester - INFO - Starting backtest on 2018 bars
2025-11-01 23:11:46,218 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-11-01 23:11:46,326 - smc_engine.orchestrator - INFO - Backtest persisted: id=bd510ad2-b610-445b-bfa3-2cc2ac4972a8, trades=13
2025-11-01 23:11:46,328 - __main__ - WARNING - No metrics found in result.
2025-11-01 23:11:46,328 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-11-01 23:12:49,640 - smc_engine.db.db - INFO - Initializing database schema...
2025-11-01 23:12:49,653 - smc_engine.db.db - INFO - Database schema created successfully
2025-11-01 23:12:49,654 - __main__ - INFO - Starting backtest...
2025-11-01 23:12:49,654 - smc_engine.orchestrator - INFO - Running backtest: smc on GBPJPY M15
2025-11-01 23:12:49,671 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-11-01 23:12:49,671 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-11-01 23:12:49,683 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: GBPJPYm, timeframe: 15, start: 2025-01-01 00:00:00, end: 2025-01-31 00:00:00)
2025-11-01 23:12:49,688 - smc_engine.data.mt5_manager - INFO - Retrieved 2018 bars for GBPJPY M15
2025-11-01 23:12:49,689 - smc_engine.orchestrator - INFO - Loaded 2018 bars
2025-11-01 23:12:49,689 - smc_engine.backtest.backtester - INFO - Starting backtest on 2018 bars
2025-11-01 23:12:58,333 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-11-01 23:12:58,422 - smc_engine.orchestrator - INFO - Backtest persisted: id=88a5fc63-7dd0-4208-87e9-a1917c13d9f9, trades=13
2025-11-01 23:12:58,423 - __main__ - WARNING - No metrics found in result.
2025-11-01 23:12:58,423 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-11-01 23:14:36,639 - smc_engine.db.db - INFO - Initializing database schema...
2025-11-01 23:14:36,646 - smc_engine.db.db - INFO - Database schema created successfully
2025-11-01 23:14:36,646 - __main__ - INFO - Starting backtest...
2025-11-01 23:14:36,647 - smc_engine.orchestrator - INFO - Running backtest: smc on GBPJPY M15
2025-11-01 23:14:36,663 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-11-01 23:14:36,663 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-11-01 23:14:36,673 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: GBPJPYm, timeframe: 15, start: 2025-02-01 00:00:00, end: 2025-02-28 00:00:00)
2025-11-01 23:14:36,678 - smc_engine.data.mt5_manager - INFO - Retrieved 1827 bars for GBPJPY M15
2025-11-01 23:14:36,679 - smc_engine.orchestrator - INFO - Loaded 1827 bars
2025-11-01 23:14:36,679 - smc_engine.backtest.backtester - INFO - Starting backtest on 1827 bars
2025-11-01 23:14:44,261 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-11-01 23:14:44,348 - smc_engine.orchestrator - INFO - Backtest persisted: id=52d03f2b-2bd6-4ee6-a683-c76d850f5d62, trades=8
2025-11-01 23:14:44,349 - __main__ - WARNING - No metrics found in result.
2025-11-01 23:14:44,349 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-11-01 23:15:45,022 - smc_engine.db.db - INFO - Initializing database schema...
2025-11-01 23:15:45,039 - smc_engine.db.db - INFO - Database schema created successfully
2025-11-01 23:15:45,039 - __main__ - INFO - Starting backtest...
2025-11-01 23:15:45,040 - smc_engine.orchestrator - INFO - Running backtest: smc on GBPJPY M15
2025-11-01 23:15:45,055 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-11-01 23:15:45,056 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-11-01 23:15:45,066 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: GBPJPYm, timeframe: 15, start: 2025-03-01 00:00:00, end: 2025-03-31 00:00:00)
2025-11-01 23:15:45,071 - smc_engine.data.mt5_manager - INFO - Retrieved 1929 bars for GBPJPY M15
2025-11-01 23:15:45,071 - smc_engine.orchestrator - INFO - Loaded 1929 bars
2025-11-01 23:15:45,072 - smc_engine.backtest.backtester - INFO - Starting backtest on 1929 bars
2025-11-01 23:15:53,521 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-11-01 23:15:53,600 - smc_engine.orchestrator - INFO - Backtest persisted: id=3eaacc43-565d-4de7-8701-64d270d41f52, trades=13
2025-11-01 23:15:53,602 - __main__ - WARNING - No metrics found in result.
2025-11-01 23:15:53,603 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-11-01 23:17:38,952 - smc_engine.db.db - INFO - Initializing database schema...
2025-11-01 23:17:38,969 - smc_engine.db.db - INFO - Database schema created successfully
2025-11-01 23:17:38,970 - __main__ - INFO - Starting backtest...
2025-11-01 23:17:38,970 - smc_engine.orchestrator - INFO - Running backtest: smc on GBPJPY M15
2025-11-01 23:17:38,990 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-11-01 23:17:38,990 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-11-01 23:17:39,004 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: GBPJPYm, timeframe: 15, start: 2025-04-01 00:00:00, end: 2025-04-30 00:00:00)
2025-11-01 23:17:39,010 - smc_engine.data.mt5_manager - INFO - Retrieved 2015 bars for GBPJPY M15
2025-11-01 23:17:39,011 - smc_engine.orchestrator - INFO - Loaded 2015 bars
2025-11-01 23:17:39,011 - smc_engine.backtest.backtester - INFO - Starting backtest on 2015 bars
2025-11-01 23:17:47,528 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-11-01 23:17:47,610 - smc_engine.orchestrator - INFO - Backtest persisted: id=8de0c326-3513-4bde-95e0-ce921f0dc06c, trades=15
2025-11-01 23:17:47,611 - __main__ - WARNING - No metrics found in result.
2025-11-01 23:17:47,611 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-11-01 23:18:58,703 - smc_engine.db.db - INFO - Initializing database schema...
2025-11-01 23:18:58,720 - smc_engine.db.db - INFO - Database schema created successfully
2025-11-01 23:18:58,720 - __main__ - INFO - Starting backtest...
2025-11-01 23:18:58,721 - smc_engine.orchestrator - INFO - Running backtest: smc on GBPJPY M15
2025-11-01 23:18:58,737 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-11-01 23:18:58,737 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-11-01 23:18:58,746 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: GBPJPYm, timeframe: 15, start: 2025-05-01 00:00:00, end: 2025-05-31 00:00:00)
2025-11-01 23:18:58,753 - smc_engine.data.mt5_manager - INFO - Retrieved 2103 bars for GBPJPY M15
2025-11-01 23:18:58,753 - smc_engine.orchestrator - INFO - Loaded 2103 bars
2025-11-01 23:18:58,753 - smc_engine.backtest.backtester - INFO - Starting backtest on 2103 bars
2025-11-01 23:19:08,250 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-11-01 23:19:08,346 - smc_engine.orchestrator - INFO - Backtest persisted: id=90983e60-a64f-4a8c-85f8-1b1a01ca2069, trades=17
2025-11-01 23:19:08,347 - __main__ - WARNING - No metrics found in result.
2025-11-01 23:19:08,348 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-11-01 23:20:31,098 - smc_engine.db.db - INFO - Initializing database schema...
2025-11-01 23:20:31,105 - smc_engine.db.db - INFO - Database schema created successfully
2025-11-01 23:20:31,105 - __main__ - INFO - Starting backtest...
2025-11-01 23:20:31,106 - smc_engine.orchestrator - INFO - Running backtest: smc on GBPJPY M15
2025-11-01 23:20:31,123 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-11-01 23:20:31,123 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-11-01 23:20:31,134 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: GBPJPYm, timeframe: 15, start: 2025-06-01 00:00:00, end: 2025-06-30 00:00:00)
2025-11-01 23:20:31,139 - smc_engine.data.mt5_manager - INFO - Retrieved 1929 bars for GBPJPY M15
2025-11-01 23:20:31,139 - smc_engine.orchestrator - INFO - Loaded 1929 bars
2025-11-01 23:20:31,140 - smc_engine.backtest.backtester - INFO - Starting backtest on 1929 bars
2025-11-01 23:20:39,385 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-11-01 23:20:39,459 - smc_engine.orchestrator - INFO - Backtest persisted: id=a99b8578-de38-444c-93d0-a9c470aa0fec, trades=11
2025-11-01 23:20:39,460 - __main__ - WARNING - No metrics found in result.
2025-11-01 23:20:39,461 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-11-01 23:21:16,685 - smc_engine.db.db - INFO - Initializing database schema...
2025-11-01 23:21:16,692 - smc_engine.db.db - INFO - Database schema created successfully
2025-11-01 23:21:16,693 - __main__ - INFO - Starting backtest...
2025-11-01 23:21:16,693 - smc_engine.orchestrator - INFO - Running backtest: smc on GBPJPY M15
2025-11-01 23:21:16,711 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-11-01 23:21:16,711 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-11-01 23:21:16,721 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: GBPJPYm, timeframe: 15, start: 2025-07-01 00:00:00, end: 2025-07-31 00:00:00)
2025-11-01 23:21:16,727 - smc_engine.data.mt5_manager - INFO - Retrieved 2112 bars for GBPJPY M15
2025-11-01 23:21:16,727 - smc_engine.orchestrator - INFO - Loaded 2112 bars
2025-11-01 23:21:16,728 - smc_engine.backtest.backtester - INFO - Starting backtest on 2112 bars
2025-11-01 23:21:25,436 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-11-01 23:21:25,517 - smc_engine.orchestrator - INFO - Backtest persisted: id=70be28a1-b86c-460a-a791-24f718735a76, trades=13
2025-11-01 23:21:25,518 - __main__ - WARNING - No metrics found in result.
2025-11-01 23:21:25,518 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
2025-11-01 23:22:11,262 - smc_engine.db.db - INFO - Initializing database schema...
2025-11-01 23:22:11,276 - smc_engine.db.db - INFO - Database schema created successfully
2025-11-01 23:22:11,276 - __main__ - INFO - Starting backtest...
2025-11-01 23:22:11,277 - smc_engine.orchestrator - INFO - Running backtest: smc on GBPJPY M15
2025-11-01 23:22:11,293 - smc_engine.data.mt5_manager - INFO - Connected to MT5 account 211869256
2025-11-01 23:22:11,293 - smc_engine.data.mt5_manager - INFO - Balance: 100.0, Equity: 100.0
2025-11-01 23:22:11,301 - smc_engine.data.mt5_manager - WARNING - mt5 parameters: (symbol: GBPJPYm, timeframe: 15, start: 2025-08-01 00:00:00, end: 2025-08-31 00:00:00)
2025-11-01 23:22:11,308 - smc_engine.data.mt5_manager - INFO - Retrieved 2008 bars for GBPJPY M15
2025-11-01 23:22:11,309 - smc_engine.orchestrator - INFO - Loaded 2008 bars
2025-11-01 23:22:11,309 - smc_engine.backtest.backtester - INFO - Starting backtest on 2008 bars
2025-11-01 23:22:20,028 - smc_engine.orchestrator - INFO - Persisting backtest to DB...
2025-11-01 23:22:20,105 - smc_engine.orchestrator - INFO - Backtest persisted: id=bb334cab-d473-4033-8b9a-bf5381b8805d, trades=15
2025-11-01 23:22:20,106 - __main__ - WARNING - No metrics found in result.
2025-11-01 23:22:20,106 - __main__ - INFO - Backtest completed (not persisted or no ID returned).
